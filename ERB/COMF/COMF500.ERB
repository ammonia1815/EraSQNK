@COM500
RETURN 0

@USE_ARUKANA_TRAIN
#DIM LCOUNT
VARSET LOCAL

FOR LCOUNT, 230, 230 + NUM("存在する아르카나")
	TRYCALLFORM COM_ABLE{LCOUNT}_2
	LOCAL:LCOUNT = RESULT
NEXT

;바인드は通常の영창はひとまず禁止
LOCAL:240 = 0

PRINTL 어느 것을 영창합니까？（마법사는 소비정력이 적어집니다）
FOR LCOUNT, 0, NUM("存在する아르카나")
	LOCAL = LCOUNT + 230
	;바인드は禁止
	SIF LOCAL == 240
		CONTINUE
	;詠唱者がいる
	IF LOCAL:LOCAL
		PRINTFORM  [{LCOUNT, 2}] 
	ELSE
		SETCOLOR DEF_COLOR("회색")
		PRINTFORM  [×] 
	ENDIF
	PRINTFORML %TEXT_LJ(TALENTNAME:LOCAL, 12)% %TEXTS("아르카나解説", LOCAL)%
	RESETCOLOR
NEXT
PRINTFORML [100] 돌아간다

$INPUT_LOOP
INPUT

IF RESULT == 100
	RETURN 0
ELSEIF RESULT >= 0 && RESULT < NUM("存在する아르카나")
	IF LOCAL:(230 + RESULT)
		SELECTCOM = 230 + RESULT
	ELSE
		PRINTFORML 이 아르카나를 주창해 줄 사람이 없는 것 같습니다
		GOTO INPUT_LOOP
	ENDIF
ELSE
	GOTO INPUT_LOOP
ENDIF
