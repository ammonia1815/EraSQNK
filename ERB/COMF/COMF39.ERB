@COM39
;로터삽입
PRINTL 로터삽입

CALL TRAIN_MESSAGE_B

SIF REFUSE_CHECK()
	RETURN 0

STR:0 = 로터삽입

RETURN 1

@FLAG_COM39, ARG

@SOURCE_COM39, ARG
VARSET LOCAL

LOCAL:20 += 20
LOCAL:21 += 40
;ABL:욕망をみる
LOCAL:11 = ABL:욕망 * 50

;ABL:Ｖ감각をみる
LOCAL:1 = CALCF("Ｖ刺激", 0, 20)

;PALAM:Ｖ윤をみる
SELECTCASE PALAM:Ｖ윤
CASE IS >= MAX(PALAM_LV(4 - ABL:Ｖ확장), 100)
	TIMES LOCAL:1 , 1.50
	TIMES LOCAL:6 , 0.10
CASE IS >= MAX(PALAM_LV(3 - ABL:Ｖ확장), 100)
	TIMES LOCAL:1 , 1.20
	TIMES LOCAL:6 , 0.20
CASE IS >= MAX(PALAM_LV(2 - ABL:Ｖ확장), 100)
	TIMES LOCAL:1 , 1.00
	TIMES LOCAL:6 , 0.50
CASE IS >= MAX(PALAM_LV(1 - ABL:Ｖ확장), 100)
	TIMES LOCAL:1 , 0.40
	LOCAL:6 += 300
CASEELSE
	TIMES LOCAL:1 , 0.10
	LOCAL:6 += 1000
ENDSELECT

CALL CALC, "조교소스", LOCAL:0, LOCAL:1, LOCAL:2, LOCAL:3, LOCAL:4, LOCAL:5, LOCAL:6, LOCAL:7, LOCAL:8, LOCAL:9, LOCAL:10, LOCAL:11, LOCAL:12, LOCAL:13, LOCAL:14, LOCAL:15, LOCAL:16, LOCAL:17, LOCAL:18, LOCAL:19, LOCAL:20, LOCAL:21, ARG


@TRAIN_MESSAGE_COM39
IF TEQUIP:로터삽입
	TEQUIP:로터삽입 = 0
	IF TALENT:음호 && RAND:2 == 0
		PRINTFORMW %조사처리(CALLNAME:TARGET,"는")% 질을 꿈틀거리게 해서, 손을 쓰지 않고 점액투성이가 된 로터를 몸 밖으로 배출했다…
	ELSE
		PRINTFORMW %CALLNAME:TARGET%의 그곳에서 튀어나온 코드를 당겨서, 진동하는 로터를 뽑아냈다…
	ENDIF
ELSE
	TEQUIP:로터삽입 = 1
	PRINTFORMW %CALLNAME:TARGET%의 질에 로터를 파묻고, 스위치를 넣었다…
ENDIF


@EQUIP_COM19
CALL SOURCE_COM39, 30
CALL FLAG_COM39, 30

;삽입系と組み合わせると, 보너스(全体のSOURCEに作用)
IF INSERT("Ｖ인서트") || TEQUIP:바이브
	TIMES SOURCE:쾌Ｖ , 1.10
	SOURCE:아픔 += 100
	SIF SELECTCOM == 67
		SOURCE:아픔 += 300
	TIMES SOURCE:욕정추가 , 1.10
ENDIF


RETURN 1

@EQUIP_COM19_2
PRINTL ＜로터 삽입안＞

RETURN 1
