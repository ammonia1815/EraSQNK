@SHOW_STATUS
REDRAW 0

;この値をもとにCLEARLINEを行う
TFLAG:31 = LINECOUNT

;레벨리미터체크
CALL SETFLAG, "레벨리미터"

;신발の自動脱ぎ
IF CONFIG("室内や屋外での신발の扱い") && TEQUIP:야외플레이 == 0 && (NUM("턴수") == 0 || PREVCOM == 171)
	CALL SET_SHOES, TARGET
	SIF ASSI
		CALL SET_SHOES, ASSI
ENDIF

DRAWLINE
CALL SHOW_STATUS_MAIN

CALL SETFLAG, "조수상대の연모外し개시"

;@COMORDERで求める실행치の初期化
CVARSET TCVAR, 26, 0
CVARSET TCVAR, 27, 0

FLAG:238 = 1


@SHOW_STATUS_MAIN
#DIM LCOUNT

;계절, 年表示部分
PRINTFORM {FLAG:872}년 {FLAG:871}일째 %TEXTS("날짜표시")%
;크리스마스ツリー체크
IF DAYEV("크리스마스期間") && NUM("크리스마스ツリー")
	SETCOLOR DEF_COLOR("하트핑크")
	PRINTFORM %UNICODE(0xD83C)%%UNICODE(0xDF84)%
	RESETCOLOR
ENDIF
PRINT  무드：
CALL TEXT, "무드ハート"
;무드記録
TFLAG:34 = MOOD()
PRINTL 
PRINTFORM 조교자:%NAME:PLAYER% 
;위험일
CALL TEXT, "生理周期", PLAYER

SIF STATE("구현", PLAYER)
	PRINT [구현]
IF PENIS(PLAYER)
	SELECTCASE SIZE("페니스", PLAYER)
	CASE 0
		PRINTFORM [소
	CASE 1
		PRINTFORM [보통
	CASE 2
		PRINTFORM [왕자지
	CASE 3
		PRINTFORM [말 같은 수준
	CASE 4
		PRINTFORM [팔 같은 수준
	CASE 5
		PRINTFORM [용 같은 수준
	CASEELSE
		PRINTFORM [규격외
	ENDSELECT

	PRINTFORM (크기LV{SIZE("페니스", PLAYER)})
	SIF TALENT:PLAYER:용의혈통
		PRINTFORM %UNI("드래곤")%
	PRINTFORM ]

	PRINTFORM Ｐ윤%TEXTS("조교파라미터のＬＶ", GET_PALAMLV(PALAM:PLAYER:Ｐ윤) )%
	CALL PRINT_BAR, "ＰＡＬＡＭ", PALAM:PLAYER:Ｐ윤, 0, 4
	;PRINTFORM %PALAM_NUM(PALAM:PLAYER:Ｐ윤)%
ENDIF
;陥没유두が勃起
IF COND("함몰유두", PLAYER)
	IF CALCF("Ｂ발정", PLAYER)
		CALL PRINT_STR, "하트핑크_[유두노출]"
	ELSE
		PRINTFORM [함몰유두]
	ENDIF
ENDIF
IF INSERT("인서트", PLAYER)
	VARSET LOCALS
	IF INSERT("Ｖ두개삽입", PLAYER)
		LOCALS = Ｖ두개삽입
	ELSEIF INSERT("Ａ두개삽입", PLAYER)
		LOCALS = Ａ두개삽입
	ELSEIF INSERT("양구멍삽입", PLAYER)
		LOCALS = 양구멍삽입
	ENDIF
	IF STRLENS(LOCALS) == 0
		IF INSERT("Ａ인서트", PLAYER)
			PRINTFORM [Ａ%CONDS("체위", PLAYER)%]
		ELSEIF INSERT("요도인서트", PLAYER)
			PRINTFORM [%CONDS("체위", PLAYER)%]
		ELSE
			PRINTFORM [%CONDS("체위", PLAYER)%]
		ENDIF
	ENDIF
ENDIF
IF TEQUIP:Ｗ넘어뜨리기
	PRINT [Ｗ쓰러뜨려짐중]
ELSEIF TEQUIP:식스나인
	PRINTFORM [\@ TEQUIP:넘어뜨리기 ? 넘어뜨리기 # \@６９(%TRAIN_NAME_STANDARD(TEQUIP:PLAYER:식스나인)%) 중]
ELSEIF TEQUIP:넘어뜨리기 == 0
	SIF TEQUIP:키스
		PRINT [틈만 나면 키스]
ENDIF
SIF TEQUIP:손대중
	PRINT [손대중]
SIF STATE("황홀", PLAYER)
	PRINT [황홀]
SIF STATE("흐물흐물", PLAYER)
	PRINT [흐물흐물]
IF STATE("바인드", PLAYER)
	PRINT [바인드:
	SIF STATE("바인드：손", PLAYER)
		PRINT 손
	SIF STATE("바인드：다리", PLAYER)
		PRINT 다리
	SIF STATE("바인드：입", PLAYER)
		PRINT 입
	SIF STATE("바인드：Ｐ", PLAYER)
		PRINT Ｐ
	PRINT ]
ENDIF
SIF STATE("미니멈", PLAYER)
	PRINT [미니멈]
SIF STATE("인라지", PLAYER)
	PRINTFORM [인라지]
SIF STATE("센시브", PLAYER)
	PRINT [센시브]
SIF STATE("비젼", PLAYER)
	PRINT [비젼]
IF STATE("우르즈군", PLAYER)
	PRINT [우르즈군
	;SIF STATE("우르즈군", PLAYER) == 2
	;	PRINT *2
	;SIF STATE("우르즈군", PLAYER) >= 3
	;	PRINT *3
	PRINT ]
ENDIF
IF STATE("시길군", PLAYER)
	PRINT [시길군
	;SIF STATE("시길군", PLAYER) == 2
	;	PRINT *2
	;SIF STATE("시길군", PLAYER) >= 3
	;	PRINT *3
	PRINT ]
ENDIF
IF STATE("에올군", PLAYER)
	PRINT [에올군
	;SIF STATE("에올군", PLAYER) == 2
	;	PRINT *2
	;SIF STATE("에올군", PLAYER) >= 3
	;	PRINT *3
	PRINT ]
ENDIF
SIF STATE("하드스킨", PLAYER)
	PRINT [하드스킨]
SIF STATE("피블", PLAYER)
	PRINT [피블]
SIF STATE("투와이스", PLAYER)
	PRINT [투와이스]
IF STATE("술주정", PLAYER)
	PRINT [술주정]
ELSEIF STATE("드렁크", PLAYER)
	PRINT [드렁크]
ENDIF
SELECTCASE TEQUIP:PLAYER:미약
CASE IS >= 200
	PRINT [미약(격)]
CASE IS >= 150
	PRINT [미약(강)]
CASE IS > 50
	PRINT [미약]
CASE IS > 0
	PRINT [미약(약)]
ENDSELECT

SIF GETBIT(TEQUIP:PLAYER:드러그, 0)
	PRINT [진정제]
SIF TEQUIP:PLAYER:배란유발제
	PRINT [배란유발제]
IF TEQUIP:운명검열
	PRINT [운명검열:
	LOCALS = 
	SIF COND("운명검열：애무")
		LOCALS += "애무＆"
	SIF COND("운명검열：보지")
		LOCALS += "보지＆"
	SIF COND("운명검열：가슴")
		LOCALS += "가슴＆"
	SIF COND("운명검열：키스")
		LOCALS += "키스＆"
	SIF COND("운명검열：애널")
		LOCALS += "애널＆"
	SIF COND("운명검열：영창")
		LOCALS += "영창＆"
	STRLENS LOCALS
	SUBSTRING LOCALS, 0, RESULT - 2
	PRINTFORM %RESULTS%]
ENDIF
SIF TEQUIP:MASTER:인센스
	PRINTFORM [%TEXTS("인센스", TEQUIP:MASTER:인센스)%]

;SIF ITEM:정액저축량
;	PRINTFORM 　（보온병：{ITEM:정액저축량}）
PRINTL 

;사정게이지설정
FOR LCOUNT, 1 , CHARANUM
	SELECTCASE LCOUNT
	CASE MASTER, ASSI, PLAYER, PLAYER:1, TARGET, TARGET:1
		CALL SETFLAG, "사정게이지", LCOUNT
	ENDSELECT
NEXT

CALL SHOW_STATUS_CHARA, TARGET
IF TEQUIP:Ｗ넘어뜨리기
	PRINTL 
	CALL SHOW_STATUS_CHARA, TARGET:1
ENDIF

IF PENIS(MASTER)
	PRINT 주인：사정
ELSE
	PRINT 주인：절정
ENDIF
CALL PRINT_BAR, "溜め게이지", BASE:MASTER:절정, MAXBASE:MASTER:절정, 26
PRINTFORM ({BASE:MASTER:절정}/{MAXBASE:MASTER:절정})

;주인정력表示
PRINTFORM  정력({BASE:MASTER:정력}/{MAXBASE:MASTER:정력})
SIF MAXBASE:MASTER:스톡 >= 1
	PRINTFORM ×{BASE:MASTER:스톡}/{MAXBASE:MASTER:스톡}
;溜まっている
SIF BASE:MASTER:정력 >= MAXBASE:MASTER:정력 && BASE:MASTER:스톡 >= MAXBASE:MASTER:스톡 && PENIS(MASTER)
	CALL PRINT_COLORTEXT, "(쌓여있다) ", DEF_COLOR("하트핑크")
PRINTL 
;조수がいて, ダウンしていないなら表示
IF ASSI && STATE("撃沈", ASSI) == 0 && TEQUIP:Ｗ넘어뜨리기 == 0
	IF PENIS(ASSI)
		PRINTFORM %TEXTS("조수の명칭")%：사정
	ELSE
		PRINTFORM %TEXTS("조수の명칭")%：절정
	ENDIF
	CALL PRINT_BAR, "溜め게이지", BASE:ASSI:절정, MAXBASE:ASSI:절정, 26
	PRINTFORM ({BASE:ASSI:절정}/{MAXBASE:ASSI:절정})
	;조수정력表示
	PRINTFORM  정력({BASE:ASSI:정력}/{MAXBASE:ASSI:정력})
	;溜まっている
	SIF BASE:ASSI:정력 >= MAXBASE:ASSI:정력 && BASE:ASSI:스톡 >= MAXBASE:ASSI:스톡 && PENIS(ASSI)
		CALL PRINT_COLORTEXT, "(쌓여있다) ", DEF_COLOR("하트핑크")
	PRINTL 
ENDIF

IF TEQUIP:촉수 && FLAG:87 != 1
	PRINT 촉수：사정
	CALL PRINT_BAR, "溜め게이지", BASE:MASTER:촉수, MAXBASE:MASTER:촉수, 32
	PRINTFORML ({BASE:MASTER:촉수}/{MAXBASE:MASTER:촉수})
ENDIF

IF TALENT:드라군 + TALENT:MASTER:드라군
	SIF MAXBASE:MASTER:드래곤 != 50000
		MAXBASE:MASTER:드래곤 = 50000
	IF BASE:MASTER:드래곤
		PRINT 사정（드래곤）
		CALL PRINT_BAR, "溜め게이지", BASE:MASTER:드래곤, MAXBASE:MASTER:드래곤, 32
		PRINTFORML ({BASE:MASTER:드래곤}/{MAXBASE:MASTER:드래곤})
	ENDIF
ELSEIF ASSI
	IF TALENT:ASSI:드라군
		SIF MAXBASE:MASTER:드래곤 != 50000
			MAXBASE:MASTER:드래곤 = 50000
		IF BASE:MASTER:드래곤
			PRINT 사정（드래곤）
			CALL PRINT_BAR, "溜め게이지", BASE:MASTER:드래곤, MAXBASE:MASTER:드래곤, 32
			PRINTFORML ({BASE:MASTER:드래곤}/{MAXBASE:MASTER:드래곤})
		ENDIF
	ENDIF
ENDIF


@SHOW_STATUS_CHARA, ARG
PRINTFORM %NAME:ARG% 
CALL TEXT, "生理周期", ARG
;ご기분
SELECTCASE MARK:ARG:기분
CASE 1
	PRINT (상황살핌)
CASE 2
	PRINT (의욕없음)
ENDSELECT
;これはTARGETの数値を見ればよい
IF TEQUIP:Ｗ넘어뜨리기
	PRINTFORM (호:{CFLAG:2} 봉:{EXP:ARG:봉사쾌락경험}) 
ELSE
	PRINTFORM (호감도:{CFLAG:2} 봉사쾌락:{EXP:ARG:봉사쾌락경험}) 
ENDIF

CALL SHOW_EQUIP_2, ARG

BASE:ARG:체력 = MAX(BASE:ARG:체력, 0)
BASE:ARG:기력 = MAX(BASE:ARG:기력, 0)

PRINT 체력
CALL PRINT_BAR, "감소게이지", BASE:ARG:체력, MAXBASE:ARG:체력, 32
PRINTFORML ({BASE:ARG:체력}/{MAXBASE:ARG:체력}) 
PRINT 기력
CALL PRINT_BAR, "감소게이지", BASE:기력, MAXBASE:기력, 32
PRINTFORM ({BASE:ARG:기력}/{MAXBASE:ARG:기력}) 
;정력表示
PRINTFORML 정력({BASE:ARG:정력}/{MAXBASE:ARG:정력}) 

CALL NEW_PRINT_PALAM, ARG

IF PENIS(ARG)
	PRINTFORM 사정
	CALL PRINT_BAR, "溜め게이지", BASE:ARG:절정, MAXBASE:ARG:절정, 24
	PRINTFORM ({BASE:ARG:절정}/{MAXBASE:ARG:절정}) 
ENDIF
IF TALENT:ARG:모유체질
	SIF MAXBASE:ARG:분유 == 0
		MAXBASE:ARG:분유 = 10000
	PRINTFORM 모유
	CALL PRINT_BAR, "溜め게이지", BASE:ARG:분유, MAXBASE:ARG:분유, 24
	PRINTFORM ({BASE:ARG:분유}/{MAXBASE:ARG:분유})
ENDIF

SIF PENIS(ARG) || TALENT:ARG:모유체질
	PRINTL 

IF EX:ARG:처녀상실 || EX:ARG:Ｃ절정 || EX:ARG:요도절정 || EX:ARG:Ｖ절정 || EX:ARG:Ａ절정 || EX:ARG:Ｂ절정 || EX:ARG:Ｍ절정 || EX:ARG:사정 || EX:ARG:분유 || EX:ARG:에너지드레인
	PRINT < 
	SIF EX:ARG:처녀상실
		CALL PRINT_COLORTEXT, "처녀상실 ", DEF_COLOR("하트핑크")
	SIF EX:ARG:요도절정
		PRINTFORM 요도절정:{EX:ARG:요도절정}회 
	SIF EX:ARG:Ｃ절정
		PRINTFORM Ｃ절정:{EX:ARG:Ｃ절정}회 
	SIF EX:ARG:Ｖ절정
		PRINTFORM Ｖ절정:{EX:ARG:Ｖ절정}회 
	SIF EX:ARG:Ａ절정
		PRINTFORM Ａ절정:{EX:ARG:Ａ절정}회 
	SIF EX:ARG:Ｂ절정
		PRINTFORM Ｂ절정:{EX:ARG:Ｂ절정}회 
	SIF EX:ARG:Ｍ절정
		PRINTFORM Ｍ절정:{EX:ARG:Ｍ절정}회 
	SIF EXP_GAIN(3, ARG)
		PRINTFORM 사정:{EXP_GAIN(3, ARG)}회 
	SIF EXP_GAIN(54, ARG)
		PRINTFORM 분유:{EXP_GAIN(54, ARG)}회 
	SIF EX:ARG:에너지드레인
		PRINTFORM ＥＤ:{EX:ARG:에너지드레인}회 
	PRINT >
	PRINTL 
ENDIF

IF PALAM:ARG:Extacy
	;オバフロ対策
	IF PALAM:Extacy >= 10000000000000000
		PRINTFORM Extacy:１경ＯＶＥＲ！ 
	ELSE
		PRINTFORM Extacy:{PALAM:ARG:Extacy} 
	ENDIF
	SELECTCASE PALAM:ARG:연속절정COMBO수
	CASE IS >= 100
		PRINTFORM … 연속절정 {PALAM:ARG:연속절정COMBO수}COMBO！！！！ 
	CASE IS >= 50
		PRINTFORM … 연속절정 {PALAM:ARG:연속절정COMBO수}COMBO！！！ 
	CASE IS >= 20
		PRINTFORM … 연속절정 {PALAM:ARG:연속절정COMBO수}COMBO！！ 
	CASE IS >= 10
		PRINTFORM … 연속절정 {PALAM:ARG:연속절정COMBO수}COMBO！！ 
	CASE IS >= 2
		PRINTFORM … 연속절정 {PALAM:ARG:연속절정COMBO수}COMBO！ 
	ENDSELECT
	PRINTL 
ENDIF

CALL CHECK_SATISFACTION, ARG

;성욕
IF MAXBASE:ARG:성욕
	PRINT 성욕
	IF BASE:ARG:성욕 >= MAXBASE:ARG:성욕
		PRINT [
		IF BASE:ARG:성욕 >= MAXBASE:ARG:성욕*2
			SETCOLOR DEF_COLOR("하트핑크")
			PRINT 대만족!
		ELSE
			SETCOLOR DEF_COLOR("노랑")
			PRINT 만족!
		ENDIF
		RESETCOLOR
		PRINT ]
	ELSE
		CALL PRINT_BAR, "복숭아색게이지", BASE:ARG:성욕, MAXBASE:ARG:성욕, 4
	ENDIF
	PRINTFORM ({BASE:ARG:성욕}/{MAXBASE:ARG:성욕})
ENDIF

;정액중독
IF MAXBASE:ARG:정액욕
	;PRINT 정액욕
	PRINT 정령욕구
	IF BASE:ARG:정액욕 >= MAXBASE:ARG:정액욕
		PRINT [
		IF BASE:ARG:정액욕 >= MAXBASE:ARG:정액욕*2
			SETCOLOR DEF_COLOR("하트핑크")
			PRINT 대만족!
		ELSE
			SETCOLOR DEF_COLOR("노랑")
			PRINT 만족!
		ENDIF
		RESETCOLOR
		PRINT ]
	ELSE
		CALL PRINT_BAR, "백색게이지", BASE:ARG:정액욕, MAXBASE:ARG:정액욕, 4
	ENDIF
	PRINTFORM ({BASE:ARG:정액욕}/{MAXBASE:ARG:정액욕})
ENDIF
;태내정액량
IF TALENT:ARG:남자 == 0
	;PRINTFORM 태내정액량
	PRINTFORM 태내
	IF COND("태内の정액량", ARG) >= 100000
		PRINT [
		SETCOLOR DEF_COLOR("하트핑크")
		PRINT 가득
		RESETCOLOR
		PRINT ]
	ELSE
		CALL PRINT_BAR, "백색게이지", COND("태内の정액량", ARG), 100000, 4
	ENDIF
	SELECTCASE COND("태内の정액량", ARG)
	CASE IS >= 10000
		PRINTFORM ({COND("태内の정액량", ARG)/1000}kp)
	CASEELSE
		PRINTFORM ({COND("태内の정액량", ARG)}p)
	ENDSELECT
	;PRINTFORM (임신확률{COND("受精확률", ARG)}％)
ENDIF

IF CONFIG("画面표시：요의게이지")
	PRINT 요의
	IF BASE:ARG:요의 >= MAXBASE:ARG:요의
		PRINT [
		IF BASE:ARG:요의 >= MAXBASE:ARG:요의*2
			SETCOLOR DEF_COLOR("하트핑크")
			PRINT 한계!
		ELSE
			SETCOLOR DEF_COLOR("노랑")
			PRINT 폭발직전
		ENDIF
		RESETCOLOR
		PRINT ]
	ELSE
		CALL PRINT_BAR, "백색게이지", BASE:ARG:요의, MAXBASE:ARG:요의, 4
	ENDIF
	;PRINTFORM ({BASE:ARG:요의}/{MAXBASE:ARG:요의}) 
ENDIF
IF CONFIG("画面표시：배설욕게이지")
	;PRINT 배설욕
	PRINT 배설
	IF BASE:ARG:배설욕 >= MAXBASE:ARG:배설욕
		PRINT [
		SETCOLOR DEF_COLOR("하트핑크")
		PRINT 한계!
		RESETCOLOR
		PRINT ]
	ELSE
		CALL PRINT_BAR, "백색게이지", BASE:ARG:배설욕, MAXBASE:ARG:배설욕, 4
	ENDIF
	;PRINTFORM ({BASE:ARG:배설욕}/{MAXBASE:ARG:배설욕}) 
ENDIF

PRINTL 

CALL SHOW_EQUIP_1, ARG


@SHOW_EQUIP_1, ARG
;ARGが使用中の도구を表示する
VARSET LOCALS
SIF TEQUIP:ARG:플라트
	LOCALS = %LOCALS%[플라트]
SIF TEQUIP:ARG:달콤한말 >= 1 && TEQUIP:ARG:달콤한말 <= 8
	LOCALS = %LOCALS%[달콤한말]
SIF TEQUIP:ARG:배란유발제
	LOCALS = %LOCALS%[배란유발제]

SELECTCASE TEQUIP:ARG:미약
CASE IS >= 200
	LOCALS = %LOCALS%[미약(격)]
CASE IS >= 150
	LOCALS = %LOCALS%[미약(강)]
CASE IS > 50
	LOCALS = %LOCALS%[미약]
CASE IS > 0
	LOCALS = %LOCALS%[미약(약)]
ENDSELECT

SIF TEQUIP:ARG:이뇨제
	LOCALS = %LOCALS%[이뇨제]
IF TEQUIP:ARG:근육이완제
	LOCALS = %LOCALS%[근육이완제
	SIF GETBIT(TEQUIP:ARG:근육이완제, 0)
		LOCALS = %LOCALS%(Ａ)
	SIF GETBIT(TEQUIP:ARG:근육이완제, 1)
		LOCALS = %LOCALS%(요도)
	SIF GETBIT(TEQUIP:ARG:근육이완제, 2)
		LOCALS = %LOCALS%(Ｖ)
	SIF GETBIT(TEQUIP:ARG:근육이완제, 3)
		LOCALS = %LOCALS%(자궁구)
	LOCALS = %LOCALS%]
ENDIF
IF TEQUIP:ARG:바이브 && TEQUIP:ARG:촉수
	IF SIZE("바이브", ARG) >= 3
		LOCALS = %LOCALS%[극태촉수삽입]
	ELSE
		LOCALS = %LOCALS%[촉수삽입]
	ENDIF
ELSEIF TEQUIP:ARG:바이브
	IF COND("쌍두바이브", ARG)
		LOCALS = %LOCALS%[쌍두바이브]
	ELSE
		SELECTCASE SIZE("바이브", ARG)
		CASE 5
			LOCALS = %LOCALS%[말잦이바이브]
		CASE 4
			LOCALS = %LOCALS%[팔뚝모양바이브]
		CASE 3
			LOCALS = %LOCALS%[극태바이브]
		CASEELSE
			LOCALS = %LOCALS%[바이브]
		ENDSELECT
	ENDIF
ENDIF

SIF TEQUIP:ARG:카테터
	LOCALS = %LOCALS%[카테터]

IF TEQUIP:ARG:애널바이브 && TEQUIP:ARG:촉수
	LOCALS = %LOCALS%[Ａ촉수삽입]
ELSEIF TEQUIP:ARG:애널바이브
	IF COND("애널비즈", ARG)
		LOCALS = %LOCALS%[애널비즈]
	ELSE
		SELECTCASE SIZE("Ａ바이브", ARG)
		CASE 5
			LOCALS = %LOCALS%[Ａ말잦이바이브]
		CASE 4
			LOCALS = %LOCALS%[Ａ팔뚝모양바이브]
		CASE 3
			LOCALS = %LOCALS%[Ａ극태바이브]
		CASEELSE
			LOCALS = %LOCALS%[애널바이브]
		ENDSELECT
	ENDIF
ENDIF

IF TEQUIP:ARG:클리캡 && TEQUIP:ARG:촉수
	LOCALS = %LOCALS%[촉수클리자극]
ELSEIF TEQUIP:ARG:클리캡
	LOCALS = %LOCALS%[클리캡]
ENDIF

IF TEQUIP:ARG:니플캡 && TEQUIP:ARG:촉수
	LOCALS = %LOCALS%[촉수유두자극]
ELSEIF TEQUIP:ARG:니플캡
	LOCALS = %LOCALS%[니플캡]
ENDIF

IF TEQUIP:ARG:착유기 && TEQUIP:ARG:촉수
	LOCALS = %LOCALS%[촉수착유]
ELSEIF TEQUIP:ARG:착유기
	LOCALS = %LOCALS%[착유기]
ENDIF

IF TEQUIP:ARG:오나홀 && TEQUIP:ARG:촉수
	LOCALS = %LOCALS%[촉수페니스자극]
ELSEIF TEQUIP:ARG:오나홀
	LOCALS = %LOCALS%[오나홀]
ENDIF

SIF TEQUIP:ARG:로터삽입
	LOCALS = %LOCALS%[로터삽입中]

IF TEQUIP:ARG:구속 && TEQUIP:ARG:촉수
	LOCALS = %LOCALS%[촉수긴박]
ELSEIF TEQUIP:ARG:구속
	LOCALS = %LOCALS%[%BINDS(TEQUIP:ARG:구속)%]
ENDIF

IF COND("정액관장", ARG)
	LOCALS = %LOCALS%[정액관장]
ELSEIF TEQUIP:ARG:관장 && TEQUIP:ARG:촉수
	LOCALS = %LOCALS%[촉수관장]
ELSEIF TEQUIP:ARG:관장
	IF COND("온천관장", ARG)
		LOCALS = %LOCALS%[온천관장
	ELSEIF COND("공기관장", ARG)
		LOCALS = %LOCALS%[공기관장
	ELSE
		LOCALS = %LOCALS%[관장
	ENDIF
	SIF COND("애널플러그", ARG)
		LOCALS = %LOCALS%＋애널플러그
	SIF TEQUIP:ARG:확장벌룬 == 2
		LOCALS = %LOCALS%＋애널확장벌룬
	LOCALS = %LOCALS%]
ELSEIF TEQUIP:ARG:확장벌룬 == 2
	LOCALS = %LOCALS%[Ａ확장벌룬]
ENDIF

SIF TEQUIP:ARG:확장벌룬 == 1
	LOCALS = %LOCALS%[Ｖ확장벌룬]
SIF TEQUIP:ARG:촉수구욕
	LOCALS = %LOCALS%[촉수구욕]
SIF TEQUIP:ARG:아이마스크
	LOCALS = %LOCALS%[아이마스크]
IF TEQUIP:ARG:재갈 == 1
	LOCALS = %LOCALS%[볼개그]
ELSEIF TEQUIP:ARG:재갈 == 2
	LOCALS = %LOCALS%[링개그]
ENDIF
SIF TEQUIP:ARG:샤워
	LOCALS = %LOCALS%[샤워]
IF TEQUIP:ARG:연주중
	IF TEQUIP:ARG:연주중 == 1
		LOCALS = %LOCALS%[평온의노래]
	ELSEIF TEQUIP:ARG:연주중 == 2
		LOCALS = %LOCALS%[로맨스송]
	ENDIF
ENDIF

SIF STRLENS(LOCALS) == 0
	RETURN 0

PRINTFORML 사용중(%CALLNAME:ARG%):%LOCALS%
PRINTL 

@SHOW_EQUIP_2, ARG
;ARGの状況の表示
;조교대상には使わない, 특수な着脱式の도구を追加した場合はここに追加をしてください
;（場所変更, 마스터や조수が使用する도구等）

IF PENIS(ARG)
	SELECTCASE SIZE("페니스", ARG)
	CASE 0
		PRINTFORM [소
	CASE 1
		PRINTFORM [보통
	CASE 2
		PRINTFORM [왕자지
	CASE 3
		PRINTFORM [말 같은 수준
	CASE 4
		PRINTFORM [팔 같은 수준
	CASE 5
		PRINTFORM [용 같은 수준
	CASEELSE
		PRINTFORM [규격외
	ENDSELECT

	PRINTFORM (크기LV{SIZE("페니스", ARG)})
	SIF TALENT:ARG:용의혈통
		PRINTFORM %UNI("드래곤")%
	PRINTFORM ]

	;PRINTFORM Ｐ윤%TEXTS("조교파라미터のＬＶ", GET_PALAMLV(PALAM:ARG:Ｐ윤) )%
	;CALL PRINT_BAR, "ＰＡＬＡＭ", PALAM:ARG:Ｐ윤, 0, 4
ENDIF

;陥没유두が勃起
IF COND("함몰유두", ARG)
	IF CALCF("Ｂ발정", ARG)
		CALL PRINT_STR, "하트핑크_[유두노출]"
	ELSE
		PRINTFORM [함몰유두]
	ENDIF
ENDIF

SIF COND("발정기", ARG)
	CALL PRINT_STR, "하트핑크_[발정中]"

SIF STATE("미니멈", ARG)
	PRINT [미니멈]
SIF STATE("인라지", ARG)
	PRINTFORM [인라지]
SIF STATE("센시브", ARG)
	PRINT [센시브]
SIF STATE("비젼", ARG)
	PRINT [비젼]
SIF STATE("우르즈군", ARG)
	PRINT [우르즈군]
SIF STATE("시길군", ARG)
	PRINT [시길군]
SIF STATE("에올군", ARG)
	PRINT [에올군]
SIF STATE("하드스킨", ARG)
	PRINT [하드스킨]
SIF STATE("피블", ARG)
	PRINT [피블]
SIF STATE("투와이스", ARG)
	PRINT [투와이스]

SIF STATE("구현", ARG)
	PRINT [구현]
IF NAMES("食事", FLAG:40) == "개다래와인" && BASE:ARG:종족 == 6
	PRINT [개다래]
ELSEIF STATE("술주정", ARG)
	PRINT [술주정]
ELSEIF STATE("드렁크", ARG)
	PRINT [드렁크]
ENDIF
SIF TEQUIP:ARG:칭찬하기
	CALL PRINT_COLORTEXT, "[기분좋음]", DEF_COLOR("하트핑크")
SIF EX:ARG:가는것을참았다
	CALL PRINT_COLORTEXT, "[절정직전]", DEF_COLOR("하트핑크")
SIF TEQUIP:ARG:비디오카메라
	PRINTFORM [촬영중(잔{10 - TEQUIP:ARG:비디오카메라 + 1}회)]
IF TEQUIP:ARG:야외플레이
	SIF COND("마을", ARG)
		PRINT [마을]
	SIF COND("삼림", ARG)
		PRINT [삼림]
	SIF COND("화원", ARG)
		PRINT [화원]
	SIF COND("강가", ARG)
		PRINT [강가]
	SIF COND("바다", ARG)
		PRINT [바다]
ENDIF
SIF TEQUIP:ARG:관내노출플레이
	PRINT [관내]
IF TEQUIP:ARG:여왕님플레이
	IF TALENT:ARG:남자
		PRINTFORM [ＳＭ플레이 LV{TEQUIP:ARG:여왕님플레이}]
	ELSE
		PRINTFORM [여왕님플레이 LV{TEQUIP:ARG:여왕님플레이}]
	ENDIF
ENDIF
SIF TEQUIP:ARG:수치플레이
	PRINT [수치플레이중]
IF TEQUIP:ARG:목욕탕플레이
	SELECTCASE TEQUIP:MASTER:입욕제
	CASE 1
		PRINT [거품목욕]
	CASE 2
		PRINT [비탕목욕]
	CASE 3
		PRINT [탄산목욕]
	CASE 4
		PRINT [장미목욕]
	CASE 5
		PRINT [염수목욕]
	CASE 6
		PRINT [노송나무목욕]
	CASE 7
		PRINT [신비목욕]
	CASE 30
		PRINT [로션목욕]
	CASE 31
		PRINT [미약목욕]
	CASE 79
		PRINT [정액목욕]
	CASEELSE
		PRINT [목욕탕]
	ENDSELECT
ENDIF
SIF TEQUIP:ARG:새댁플레이
	PRINT [새댁]
SIF TEQUIP:ARG:촉수
	PRINT [촉수]
SIF TEQUIP:ARG:러브트랩
	PRINT [러브트랩 중]
IF TEQUIP:ARG:딥스로트 == PLAYER
	PRINT [딥스로트 중]
ELSEIF TEQUIP:ARG:딥스로트
	PRINTFORM [딥스로트안(%CALLNAME:(TEQUIP:ARG:딥스로트)%)]
ENDIF
;これはTARGETの値を見る
IF TEQUIP:Ｗ넘어뜨리기
	;PRINT [Ｗ넘어뜨리기 중]
ELSEIF TEQUIP:ARG:식스나인
	PRINTFORM [\@ TEQUIP:ARG:넘어뜨리기 ? 넘어뜨리기 # \@６９(%TRAIN_NAME_STANDARD(TEQUIP:ARG:식스나인)%)안]
ELSEIF TEQUIP:ARG:넘어뜨리기
	PRINT [넘어뜨리기
	IF TEQUIP:PLAYER:구속
		PRINT 구속
	ELSEIF TEQUIP:ARG:안면기승
		PRINT 안면기승
	ENDIF
	PRINT  중]

	SIF TEQUIP:ARG:키스
		PRINT [틈만 나면 키스]
ENDIF

SIF STATE("흐물흐물", ARG)
	PRINT [흐물흐물]

IF INSERT("인서트", ARG)
	PRINT [
	VARSET LOCALS
	IF INSERT("Ｖ두개삽입", ARG)
		LOCALS = Ｖ두개삽입
	ELSEIF INSERT("Ａ두개삽입", ARG)
		LOCALS = Ａ두개삽입
	ELSEIF INSERT("양구멍삽입", ARG)
		LOCALS = 양구멍삽입
	ENDIF
	IF STRLENS(LOCALS) == 0
		SELECTCASE INSERT("인서트상대", ARG)
		CASE PLAYER
		CASE ASSI
			LOCALS:1 = (%TEXTS("조수の명칭")%)
		CASE MASTER
			LOCALS:1 = (主人)
		ENDSELECT

		IF INSERT("Ａ인서트", ARG)
			LOCALS = Ａ%CONDS("체위", ARG)%%LOCALS:1%
		ELSEIF INSERT("요도인서트", ARG)
			LOCALS = %CONDS("체위", ARG)%%LOCALS:1%
		ELSE
			LOCALS = %CONDS("체위", ARG)%%LOCALS:1%
		ENDIF
	ENDIF
	IF COND("마음에 드는 체위中", ARG)
		SETCOLOR DEF_COLOR("하트핑크")
		LOCALS = %LOCALS%☆
	ENDIF
	PRINTFORM %LOCALS%
	RESETCOLOR
	PRINT ]
ELSEIF INSERT("삽입中", ARG)
	IF INSERT("Ａ삽입中", ARG)
		PRINTFORM [Ａ삽입안(%CALLNAME:INSERT("삽입中", ARG)%)]
	ELSEIF INSERT("요도삽입中", ARG)
		LOCALS = [요도삽입中(%CALLNAME:INSERT("삽입中", ARG)%)]
	ELSE
		LOCALS = [Ｖ삽입中(%CALLNAME:INSERT("삽입中", ARG)%)]
	ENDIF
ENDIF
PRINTL  
;갈아입히기表示
CALL PRINT_DRESS, ARG, "短縮표시"
PRINTL 



@STAIN_INFO
#DIM MEMO_LINECOUNT
MEMO_LINECOUNT = LINECOUNT

REDRAW 0
PRINTL 
PRINTFORML 다음이 각 부위의 오염상태입니다. 
SIF TEQUIP:넘어뜨리기 == 0
	PRINTFORML 원하면, 손이나 입의 오염등을 깨끗하게할 수도 있습니다. 
;誰かが진성포경
IF COND("진성포경") || COND("진성포경", MASTER) || COND("진성포경", ASSI)
	SETCOLOR DEF_COLOR("노랑")
	PRINTFORML ※진성포경의 사람은Ｐ에 항상<Ｐ치구>더러움이 있습니다. 씻어도청소해도 떨어지지 않습니다
	RESETCOLOR
ENDIF
PRINTFORML （입욕중·욕탕에 들어간 상태에는 더러운 것이 뭍기힘들고, 봉사조교도 실행하기 쉬워집니다）
CALL STAIN_INFO_SHOW, MASTER
CALL STAIN_INFO_SHOW, TARGET
CALL STAIN_INFO_SHOW, TARGET:1
DRAWLINE
IF TEQUIP:넘어뜨리기
	WAIT
ELSE
	PRINTBUTTON "[Enter] 닫는다", "Enter"

	ONEINPUTS

	SELECTCASE RESULTS
	CASE "0"
		STAIN:MASTER:Ｍ = 0
	CASE "1"
		STAIN:MASTER:손 = 0
	CASE "2"
		IF CHECK_ADD_STAIN("Ｐ", MASTER)
			CALL RESET_STAIN_EX, "Ｐ", MASTER
			SIF INSERT("삽입中", MASTER)
				CALL RESET_INSERT, MASTER
		ENDIF
	CASE "3"
		STAIN:Ｍ = 0
	CASE "4"
		STAIN:손 = 0
	CASE "5"
		IF CHECK_ADD_STAIN("Ｐ", TARGET)
			CALL RESET_STAIN_EX, "Ｐ", TARGET
			SIF INSERT("삽입中", TARGET)
				CALL RESET_INSERT, TARGET
		ENDIF
	CASE "6"
		SIF ASSI
			STAIN:ASSI:Ｍ = 0
	CASE "7"
		SIF ASSI
			STAIN:ASSI:손 = 0
	CASE "8"
		IF ASSI
			IF CHECK_ADD_STAIN("Ｐ", ASSI)
				CALL RESET_STAIN_EX, "Ｐ", ASSI
				SIF INSERT("삽입中", ASSI)
					CALL RESET_INSERT, ASSI
			ENDIF
		ENDIF
	CASEELSE
		REDRAW 1
		RETURN 0
	ENDSELECT
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
ENDIF

REDRAW 1

@STAIN_INFO_SHOW, ARG
#DIM LCOUNT

SIF ARG <= 0
	RETURN 0
IF TEQUIP:ARG:목욕후
	;ここはTARGETの値を見る
	IF TARGET && TEQUIP:목욕탕플레이
		LOCALS = □ %NAME:ARG%（입욕중）□
	ELSE
		LOCALS = □ %NAME:ARG%（욕탕에들어감）□
	ENDIF
ELSE
	LOCALS = □ %NAME:ARG% □
ENDIF
CALL DRAWLINES, LOCALS

;선택지に使う
SELECTCASE ARG
CASE MASTER
	LOCAL = 0
CASE TARGET
	LOCAL = 3
CASE TARGET:1
	LOCAL = 6
ENDSELECT

FOR LCOUNT, 0, 6
	LOCALS = 
	SIF CHECK_STAIN(STAIN:ARG:LCOUNT, "Ｖ")
		LOCALS += "<Ｖ>"
	SIF CHECK_STAIN(STAIN:ARG:LCOUNT, "Ｖ치구")
		LOCALS += "<Ｖ치구>"
	SIF CHECK_STAIN(STAIN:ARG:LCOUNT, "Ｐ")
		LOCALS += "<Ｐ>"
	SIF CHECK_STAIN(STAIN:ARG:LCOUNT, "Ｐ치구")
		LOCALS += "<Ｐ치구>"
	SIF CHECK_STAIN(STAIN:ARG:LCOUNT, "정액")
		LOCALS += "<정액>"
	SIF CHECK_STAIN(STAIN:ARG:LCOUNT, "Ａ")
		LOCALS += "<Ａ>"
	SIF CHECK_STAIN(STAIN:ARG:LCOUNT, "乳")
		LOCALS += "<모유>"
	SIF CHECK_STAIN(STAIN:ARG:LCOUNT, "尿")
		LOCALS += "<오줌>"
	SIF CHECK_STAIN(STAIN:ARG:LCOUNT, "촉수")
		LOCALS += "<촉수>"
	;SIF LCOUNT == 4 && (COND("身嗜み：장세척", ARG) || EX:ARG:배설 >= 2)
	;	LOCALS += "（洗浄済み）"

	SELECTCASE LCOUNT
	CASE 0
		PRINTFORM  입：%TEXT_LJ(LOCALS, 32)%
		SIF TEQUIP:넘어뜨리기 == 0 && LOCALS != ""
			PRINTFORM [{LOCAL + LCOUNT}] \@ ARG == MASTER ? 양치질한다 # 양치질시킨다 \@
	CASE 1
		PRINTFORM  손：%TEXT_LJ(LOCALS, 32)%
		SIF TEQUIP:넘어뜨리기 == 0 && LOCALS != ""
			PRINTFORM [{LOCAL + LCOUNT}] 손가락을닦는다
	CASE 2
		SIF PENIS(ARG) == 0
			CONTINUE
		PRINTFORM  Ｐ：%TEXT_LJ(LOCALS, 32)%
		SIF TEQUIP:넘어뜨리기 == 0 && CHECK_ADD_STAIN("Ｐ", ARG)
			PRINTFORM [{LOCAL + LCOUNT}] 페니스를닦는다 \@ INSERT("삽입中", ARG) ? (인서트는해제) # \@
	CASE 3
		SIF TALENT:ARG:남자
			CONTINUE
		PRINTFORM  Ｖ：%TEXT_LJ(LOCALS, 32)%
	CASE 4
		PRINTFORM  Ａ：%TEXT_LJ(LOCALS, 32)%
	CASE 5
		;SIF TALENT:ARG:남자
		;	CONTINUE
		PRINTFORM  Ｂ：%TEXT_LJ(LOCALS, 32)%
	ENDSELECT


	PRINTL 
NEXT
PRINTL 
