;PRINT_XXX系커맨드と置き換えて使う関数
@NEW_PRINT_STATE, ARG, ARGS
#DIM MEMO_LINECOUNT
#DIM MEMO_FLAG3
#DIM MEMO_REDRAW

MEMO_LINECOUNT = LINECOUNT
MEMO_FLAG3 = FLAG:3
MEMO_REDRAW = CURRENTREDRAW()

REDRAW 0

SELECTCASE ARGS
CASE "通常", "通常：２", "キャラメイク", "ＬＶＵＰ"
	DRAWLINE
	IF ARG < 0
		PRINTW 에러：참조번호가 음수입니다
		RETURN 0
	ELSEIF ARG == 0
		PRINTW 에러：참조번호가 더미입니다
		RETURN 0
	ELSEIF ARG > CHARANUM-1
		PRINTW 에러：참조 번호가 마지막 캐릭터의 등록 번호를 넘고 있습니다
		RETURN 0
	ENDIF

	PRINTFORM ■ %CALLNAME:ARG%
	;구상セレクタ表示のテストなど
	IF ARG != MASTER
		SIF CFLAG:ARG:209 && CFLAG:ARG:209 != 1 && CFLAG:ARG:209 != 857
			PRINTFORM  구상{CFLAG:ARG:209} 
		RESULT = 0
		TRYCALLFORM IS_SINGLE_ENDING_K{NO:ARG}_{CFLAG:ARG:209}
		SIF RESULT
			CALL PRINT_STR, "(_하트핑크_個別ＥＮＤ有_)_ _"
	ENDIF
	PRINT (
	IF STATE("술주정", ARG)
		CALL PRINT_COLORTEXT, "술주정中", DEF_COLOR("파랑")
		PRINT )(
	ELSEIF STATE("드렁크", ARG)
		CALL PRINT_COLORTEXT, "드렁크", DEF_COLOR("하트핑크")
		PRINT )(
	ENDIF
	SELECTCASE ARG
	CASE MASTER
		PRINTFORM 주인 
	CASE ASSI
		SELECTCASE ABL:ASSI:조수
		CASE 0
			PRINTFORM %TEXTS("조수の명칭")%견습 
		CASEELSE
			PRINTFORM LV{ABL:ASSI:조수}%TEXTS("조수の명칭")% 
		ENDSELECT
	CASE TARGET
		SIF EXP:ARG:조교횟수
			PRINTFORM 조교中 
	ENDSELECT


	PRINTFORM LV:
	IF ABL:ARG:ＬＶ < NUM("최대레벨", 90)
		PRINTFORM {ABL:ARG:ＬＶ}
		SIF ARG == MASTER && ABL:MASTER:ＬＶ < FLAG:255
			PRINT  제한중
		PRINTFORM  EXP:{EXP:ARG:경험치}Ｐ
		LOCAL = 0
		SIF ARG != MASTER && ABL:ARG:ＬＶ == 14 && TALENT:ARG:몽마
			LOCAL = 200
		IF EXP_NEXTLV(ARG, ABL:ARG:ＬＶ) + LOCAL - EXP:ARG:경험치 > 0
			PRINTFORM  NEXT:{EXP_NEXTLV(ARG, ABL:ARG:ＬＶ) + LOCAL - EXP:ARG:경험치}Ｐ
		ELSE
			CALL PRINT_STR, "황색_LVUPOK!"
		ENDIF
	ELSE
		CALL PRINT_STR, "황색_MAX!"
		PRINTFORM  EXP:{EXP:ARG:경험치}Ｐ
	ENDIF

	SIF COND("호접지몽", ARG) > 0
		PRINTFORM  %CALLNAME:COND("호접지몽", ARG)%의 몸

	PRINTFORM ) ■

	SIF TALENT:ARG:임신 || BASE:ARG:육아중 || GETBITS(BASE:ARG:바이오리듬, 10, 20) || COND("피임中", ARG) || COND("着床확인", ARG)
		PRINT  (
	IF BASE:ARG:육아중
		PRINTFORM %CONDS("태아의부친", ARG)%의 아이를 육아중
		SIF TALENT:ARG:임신 || GETBITS(BASE:ARG:바이오리듬, 10, 20) || COND("피임中", ARG)
			PRINT 　
	ENDIF
	IF TALENT:ARG:임신
		PRINTFORM %CONDS("정액의우세", ARG)%의 아이를 임신中
	ELSEIF COND("발정기", ARG)
		SETCOLOR DEF_COLOR("하트핑크")
		PRINTFORM 발정기
	ELSEIF COND("着床확인", ARG)
		SETCOLOR DEF_COLOR("하트핑크")
		PRINTFORM %CONDS("정액의우세", ARG)%의 정자로 착상
		CALL HEARTMARK
	ELSEIF COND("피임中", ARG)
		IF TALENT:ARG:피임의부적
			PRINTFORM 피임의부적
		ELSEIF TALENT:ARG:피임약복용
			PRINTFORM 피임약복용中:잔량{TALENT:ARG:피임약복용}일분
		ENDIF
	ELSEIF COND("안전일", ARG)
		PRINTFORM 안전일
	ELSEIF COND("배란中", ARG)
		SETCOLOR DEF_COLOR("하트핑크")
		PRINTFORM 위험일
	ELSEIF COND("위험일", ARG)
		SETCOLOR DEF_COLOR("노랑")
		PRINTFORM 위험일
	ENDIF
	RESETCOLOR
	SIF TALENT:ARG:임신 || BASE:ARG:육아중 || GETBITS(BASE:ARG:바이오리듬, 10, 20) || COND("피임中", ARG) || COND("着床확인", ARG)
		PRINT )
	PRINTL 
	;호감도
	SIF ARG != MASTER
		PRINTFORM 호감도:{CFLAG:ARG:2} 
	;체력の表示
	PRINTFORM 체력:{MAXBASE:ARG:체력} 
	PRINTFORM 기력:{MAXBASE:ARG:기력} 
	SIF MAXBASE:ARG:정력
		PRINTFORM 정력:{MAXBASE:ARG:정력}\@ MAXBASE:ARG:스톡 ? ×{MAXBASE:ARG:스톡} # \@　
	SIF TALENT:ARG:남자 == 0
		PRINTFORM 태내정액량:{COND("태内の정액량", ARG)}pt
	PRINTL 
	;最後に상대した일からの経過일数
	SIF ARG != MASTER && COND("前回조교일", ARG) && COND("조교공백기간", ARG) >= 2
		PRINTFORML 전회조교일：{COND("前回조교일", ARG)}일 방치기간：{COND("조교공백기간", ARG)}일
CASE "소환"
	CALL PROFILE_TEXT, NO:ARG
ENDSELECT


SELECTCASE ARGS
CASE "ＬＶＵＰ"
	CALL NEW_PRINT_EXP, TARGET
	SIF EXP:이상경험
		CALL NEW_PRINT_EXP50, TARGET
	CALL NEW_PRINT_JUEL, TARGET
	DRAWLINE
CASE "通常"
	IF ARG == MASTER
		CALL NEW_PRINT_3SIZE, ARG, "個別표시"
		CALL NEW_PRINT_ZOKUSEI, ARG
		CALL NEW_PRINT_JUEL, ARG
		CALL NEW_PRINT_EXP, ARG
		CALL NEW_PRINT_EXP50, ARG
		CALL NEW_PRINT_ABL, ARG
		CALL NEW_PRINT_MARK, ARG
		CALL NEW_PRINT_TALENT, ARG
		CALL NEW_PRINT_PUBICHAIR, ARG
		CALL PRINT_EQUIPPING_ACCESSORY, ARG

		CALL PRINT_MIDASHINAMI, ARG
		CALL PRINT_COS, ARG
		CALL SHOW_FAMILY, ARG
		CALL PRINT_RELATION, ARG
		CALL PRINT_OTHER, ARG
		DRAWLINE
		PRINTFORM [ 0]몸가짐의 변경
		IF NUM("所持악세사리")
			PRINTFORM  [ 7]악세사리 관리
		ELSE
			PRINTPLAINFORM  [×]악세사리 관리
		ENDIF
		PRINTL 

		PRINTBUTTON "[Enter]닫는다", "Enter"
		;PRINTPLAINFORM  [×]page1
		PRINTFORM  [ 2]page2
		PRINTPLAINFORM  [×]주인
		IF TARGET > 0
			PRINTFORM  [ 5]조교대상
		ELSE
			PRINTPLAINFORM  [×]조교대상
		ENDIF
		IF ASSI > 0
			PRINTFORM  [ 6]%TEXTS("조수の명칭")%
		ELSE
			PRINTPLAINFORM  [×]%TEXTS("조수の명칭")%
		ENDIF
		PRINTFORM  [ 8]\@ ARG == 1 ? 最後 # 前 \@
		PRINTFORML  [ 9]\@ ARG == CHARANUM - 1 ? 最初 # 次 \@

		ONEINPUTS

		SELECTCASE RESULTS
		CASE "1", "3", "4"
			CLEARLINE LINECOUNT - MEMO_LINECOUNT
			RESTART
		CASE "7"
			IF NUM("所持악세사리")
				CALL ACCESSORY_SELECT
			ELSE
				CLEARLINE LINECOUNT - MEMO_LINECOUNT
			ENDIF
			RESTART
		CASE "0"
			CALL SET_MIDASHINAMI, MASTER
			RESTART
		CASE "2"
			ARGS = 通常：２
			RESTART
		CASE "5"
			SIF ARG != TARGET && TARGET > 0
				ARG = TARGET
			RESTART
		CASE "6"
			SIF ARG != ASSI && ASSI > 0
				ARG = ASSI
			RESTART
		CASE "8"
			IF ARG == 1
				ARG = CHARANUM - 1
			ELSE
				ARG -= 1
			ENDIF
			RESTART
		CASE "9"
			IF ARG == CHARANUM - 1
				ARG = 1
			ELSE
				ARG += 1
			ENDIF
			RESTART
		ENDSELECT
	ELSE
		CALL NEW_PRINT_3SIZE, ARG, "個別표시"
		CALL NEW_PRINT_ZOKUSEI, ARG
		CALL NEW_PRINT_JUEL, ARG
		CALL NEW_PRINT_EXP, ARG
		CALL NEW_PRINT_EXP50, ARG
		CALL NEW_PRINT_ABL, ARG
		CALL NEW_PRINT_MARK, ARG
		CALL NEW_PRINT_TALENT, ARG
		CALL NEW_PRINT_PUBICHAIR, ARG
		CALL PRINT_EQUIPPING_ACCESSORY, ARG

		DRAWLINE
		PRINTBUTTON "[Enter]닫는다", "Enter"
		;PRINTPLAINFORM  [×]page1
		PRINTFORM  [ 2]page2
		PRINTFORM  [ 4]주인
		IF ARG != TARGET && TARGET > 0
			PRINTFORM  [ 5]조교대상
		ELSE
			PRINTPLAINFORM  [×]조교대상
		ENDIF
		IF ARG != ASSI && ASSI > 0
			PRINTFORM  [ 6]%TEXTS("조수の명칭")%
		ELSE
			PRINTPLAINFORM  [×]%TEXTS("조수の명칭")%
		ENDIF
		PRINTFORM  [ 8]\@ ARG == 1 ? 最後 # 前 \@
		PRINTFORML  [ 9]\@ ARG == CHARANUM - 1 ? 最初 # 次 \@

		ONEINPUTS

		SELECTCASE RESULTS
		CASE "0", "1", "3", "7"
			CLEARLINE LINECOUNT - MEMO_LINECOUNT
			RESTART
		CASE "2"
			ARGS = 通常：２
			RESTART
		CASE "4"
			ARG = MASTER
			RESTART
		CASE "5"
			SIF ARG != TARGET && TARGET > 0
				ARG = TARGET
			RESTART
		CASE "6"
			SIF ARG != ASSI && ASSI > 0
				ARG = ASSI
			RESTART
		CASE "8"
			IF ARG == 1
				ARG = CHARANUM - 1
			ELSE
				ARG -= 1
			ENDIF
			RESTART
		CASE "9"
			IF ARG == CHARANUM - 1
				ARG = 1
			ELSE
				ARG += 1
			ENDIF
			RESTART
		ENDSELECT
	ENDIF
CASE "通常：２"
	IF ARG == MASTER
		CALL SHOOT_RANKING, ARG
		DRAWLINE
		PRINTFORM [ 0]몸가짐의 변경
		IF NUM("所持악세사리")
			PRINTFORM  [ 7]악세사리세트
		ELSE
			PRINTPLAINFORM  [×]악세사리세트
		ENDIF
		PRINTL 

		PRINTBUTTON "[Enter]닫는다", "Enter"
		PRINTFORM  [ 1]page1
		;PRINTPLAINFORM  [×]page2
		PRINTPLAINFORM  [×]주인
		IF TARGET > 0
			PRINTFORM  [ 5]조교대상
		ELSE
			PRINTPLAINFORM  [×]조교대상
		ENDIF
		IF ASSI > 0
			PRINTFORM  [ 6]%TEXTS("조수の명칭")%
		ELSE
			PRINTPLAINFORM  [×]%TEXTS("조수の명칭")%
		ENDIF
		PRINTFORM  [ 8]\@ ARG == 1 ? 最後 # 前 \@
		PRINTFORML  [ 9]\@ ARG == CHARANUM - 1 ? 最初 # 次 \@
		ONEINPUTS

		SELECTCASE RESULTS
		CASE "2", "3", "4"
			CLEARLINE LINECOUNT - MEMO_LINECOUNT
			RESTART
		CASE "7"
			IF NUM("所持악세사리")
				CALL ACCESSORY_SELECT
			ELSE
				CLEARLINE LINECOUNT - MEMO_LINECOUNT
			ENDIF
			RESTART
		CASE "0"
			CALL SET_MIDASHINAMI, MASTER
			RESTART
		CASE "1"
			ARGS = 通常
			RESTART
		CASE "5"
			SIF ARG != TARGET && TARGET > 0
				ARG = TARGET
			RESTART
		CASE "6"
			SIF ARG != ASSI && ASSI > 0
				ARG = ASSI
			RESTART
		CASE "8"
			IF ARG == 1
				ARG = CHARANUM - 1
			ELSE
				ARG -= 1
			ENDIF
			RESTART
		CASE "9"
			IF ARG == CHARANUM - 1
				ARG = 1
			ELSE
				ARG += 1
			ENDIF
			RESTART
		ENDSELECT
	ELSE
		;CALL PRINT_REMARKS, ARG
		CALL PRINT_INDICATE, ARG
		CALL PRINT_MIDASHINAMI, ARG
		CALL PRINT_COS, ARG
		CALL SHOW_FAMILY, ARG
		CALL PRINT_RELATION, ARG
		CALL PRINT_VIDEO, ARG
		CALL PRINT_OTHER, ARG
		DRAWLINE
		PRINTBUTTON "[Enter]닫는다", "Enter"
		PRINTFORM  [ 1]page1
		;PRINTPLAINFORM  [×]page2
		PRINTFORM  [ 4]주인
		IF ARG != TARGET && TARGET > 0
			PRINTFORM  [ 5]조교대상
		ELSE
			PRINTPLAINFORM  [×]조교대상
		ENDIF
		IF ARG != ASSI && ASSI > 0
			PRINTFORM  [ 6]%TEXTS("조수の명칭")%
		ELSE
			PRINTPLAINFORM  [×]%TEXTS("조수の명칭")%
		ENDIF
		PRINTFORM  [ 8]\@ ARG == 1 ? 最後 # 前 \@
		PRINTFORML  [ 9]\@ ARG == CHARANUM - 1 ? 最初 # 次 \@

		ONEINPUTS

		SELECTCASE RESULTS
		CASE "0", "2", "3", "7"
			CLEARLINE LINECOUNT - MEMO_LINECOUNT
			RESTART
		CASE "1"
			ARGS = 通常
			RESTART
		CASE "4"
			ARG = MASTER
			RESTART
		CASE "5"
			SIF ARG != TARGET && TARGET > 0
				ARG = TARGET
			RESTART
		CASE "6"
			SIF ARG != ASSI && ASSI > 0
				ARG = ASSI
			RESTART
		CASE "8"
			IF ARG == 1
				ARG = CHARANUM - 1
			ELSE
				ARG -= 1
			ENDIF
			RESTART
		CASE "9"
			IF ARG == CHARANUM - 1
				ARG = 1
			ELSE
				ARG += 1
			ENDIF
			RESTART
		ENDSELECT
	ENDIF
CASE "소환", "キャラメイク"
	CALL NEW_PRINT_3SIZE, ARG, "個別표시"
	CALL NEW_PRINT_ZOKUSEI, ARG
	CALL NEW_PRINT_TALENT, ARG
	CALL NEW_PRINT_ABL, ARG
	LOCAL = FLAG:250
	FLAG:250 = 1
	CALL NEW_PRINT_EXP, ARG
	FLAG:250 = LOCAL
	CALL NEW_PRINT_EXP50, ARG
	CALL NEW_PRINT_PUBICHAIR, ARG
	CALL PRINT_RELATION, ARG, "종족"
	;CALL PRINT_COS, ARG
	DRAWLINE
ENDSELECT

SELECTCASE RESULTS
;이하は항목ONOFFボタン
CASE "搾"
	INVERTBIT FLAG:3, 0
CASE "助"
	INVERTBIT FLAG:3, 1
CASE "出"
	INVERTBIT FLAG:3, 2
CASE "身"
	INVERTBIT FLAG:3, 3
CASE "옷"
	INVERTBIT FLAG:3, 4
CASE "体"
	INVERTBIT FLAG:3, 5
CASE "性"
	INVERTBIT FLAG:3, 6
CASE "弱"
	INVERTBIT FLAG:3, 7
CASE "属"
	INVERTBIT FLAG:3, 8
CASE "宝"
	INVERTBIT FLAG:3, 9
CASE "経"
	INVERTBIT FLAG:3, 10
CASE "異"
	INVERTBIT FLAG:3, 11
CASE "能"
	INVERTBIT FLAG:3, 12
CASE "刻"
	INVERTBIT FLAG:3, 13
CASE "素"
	INVERTBIT FLAG:3, 14
CASE "家"
	INVERTBIT FLAG:3, 15
CASE "相"
	INVERTBIT FLAG:3, 16
CASE "陰"
	INVERTBIT FLAG:3, 17
CASE "ア"
	INVERTBIT FLAG:3, 18
CASE "射"
	INVERTBIT FLAG:3, 19
ENDSELECT

;항목の비표시を変更した時は履歴を消してRESTART
IF MEMO_FLAG3 != FLAG:3
	CLEARLINE LINECOUNT - MEMO_LINECOUNT
	RESTART
ENDIF

REDRAW MEMO_REDRAW

RETURN 0

;中だし履歴
@SHOOT_RANKING, ARG
#DIM LCOUNT
#DIM MEMO_LINECOUNT
#DIM DYNAMIC SPERM_TOTAL, 100
#DIM DYNAMIC SPERM_RANK, 10
#DIM SPERM_RANK_V, 10
#DIM SPERM_RANK_A, 10
#DIM SPERM_RANK_M, 10
#DIM SPERM_RANK_B, 10
#DIM SPERM_RANK_U, 10

VARSET SPERM_RANK_V, -1
VARSET SPERM_RANK_A, -1
VARSET SPERM_RANK_M, -1
VARSET SPERM_RANK_B, -1
VARSET SPERM_RANK_U, -1

;中出され履歴の有無체크
FOR LCOUNT, 1, CHARANUM
	SIF CSTR:LCOUNT:11 != "" || CSTR:LCOUNT:12 != "" || CSTR:LCOUNT:13 != "" || CSTR:LCOUNT:14 != "" || CSTR:LCOUNT:15 != ""
		BREAK
	SIF LCOUNT == CHARANUM - 1
		RETURN 0
NEXT

CALL DRAWLINES, "□ 사정ランキング □", "사정ランキング"

SIF CONFIG("항목：사정ランキング")
	RETURN 0

;SPERM_TOTAL	LCOUNT番の캐릭터의総中搾精量
;SPERM_RANK		SPERM_TOTALのランキング。上位５位まで表示
;SPERM_RANK_(V, A, M, B, U)	各場所の中出しランキング。上位５位まで記録

FOR LCOUNT, 1, CHARANUM
	SPERM_TOTAL:LCOUNT += CALCF("질내정액경험", LCOUNT, ARG)
	;順位の変動
	SELECTCASE CALCF("질내정액경험", LCOUNT, ARG)
	CASE IS > CALCF("질내정액경험", SPERM_RANK_V:1, ARG)
		SPERM_RANK_V:5 = SPERM_RANK_V:4
		SPERM_RANK_V:4 = SPERM_RANK_V:3
		SPERM_RANK_V:3 = SPERM_RANK_V:2
		SPERM_RANK_V:2 = SPERM_RANK_V:1
		SPERM_RANK_V:1 = LCOUNT
	CASE IS > CALCF("질내정액경험", SPERM_RANK_V:2, ARG)
		SPERM_RANK_V:5 = SPERM_RANK_V:4
		SPERM_RANK_V:4 = SPERM_RANK_V:3
		SPERM_RANK_V:3 = SPERM_RANK_V:2
		SPERM_RANK_V:2 = LCOUNT
	CASE IS > CALCF("질내정액경험", SPERM_RANK_V:3, ARG)
		SPERM_RANK_V:5 = SPERM_RANK_V:4
		SPERM_RANK_V:4 = SPERM_RANK_V:3
		SPERM_RANK_V:3 = LCOUNT
	CASE IS > CALCF("질내정액경험", SPERM_RANK_V:4, ARG)
		SPERM_RANK_V:5 = SPERM_RANK_V:4
		SPERM_RANK_V:4 = LCOUNT
	CASE IS > CALCF("질내정액경험", SPERM_RANK_V:5, ARG)
		SPERM_RANK_V:5 = LCOUNT
	ENDSELECT

	SPERM_TOTAL:LCOUNT += CALCF("장내정액경험", LCOUNT, ARG)
	;順位の変動
	SELECTCASE CALCF("장내정액경험", LCOUNT, ARG)
	CASE IS > CALCF("장내정액경험", SPERM_RANK_A:1, ARG)
		SPERM_RANK_A:5 = SPERM_RANK_A:4
		SPERM_RANK_A:4 = SPERM_RANK_A:3
		SPERM_RANK_A:3 = SPERM_RANK_A:2
		SPERM_RANK_A:2 = SPERM_RANK_A:1
		SPERM_RANK_A:1 = LCOUNT
	CASE IS > CALCF("장내정액경험", SPERM_RANK_A:2, ARG)
		SPERM_RANK_A:5 = SPERM_RANK_A:4
		SPERM_RANK_A:4 = SPERM_RANK_A:3
		SPERM_RANK_A:3 = SPERM_RANK_A:2
		SPERM_RANK_A:2 = LCOUNT
	CASE IS > CALCF("장내정액경험", SPERM_RANK_A:3, ARG)
		SPERM_RANK_A:5 = SPERM_RANK_A:4
		SPERM_RANK_A:4 = SPERM_RANK_A:3
		SPERM_RANK_A:3 = LCOUNT
	CASE IS > CALCF("장내정액경험", SPERM_RANK_A:4, ARG)
		SPERM_RANK_A:5 = SPERM_RANK_A:4
		SPERM_RANK_A:4 = LCOUNT
	CASE IS > CALCF("장내정액경험", SPERM_RANK_A:5, ARG)
		SPERM_RANK_A:5 = LCOUNT
	ENDSELECT

	SPERM_TOTAL:LCOUNT += CALCF("정음경험", LCOUNT, ARG)
	;順位の変動
	SELECTCASE CALCF("정음경험", LCOUNT, ARG)
	CASE IS > CALCF("정음경험", SPERM_RANK_M:1, ARG)
		SPERM_RANK_M:5 = SPERM_RANK_M:4
		SPERM_RANK_M:4 = SPERM_RANK_M:3
		SPERM_RANK_M:3 = SPERM_RANK_M:2
		SPERM_RANK_M:2 = SPERM_RANK_M:1
		SPERM_RANK_M:1 = LCOUNT
	CASE IS > CALCF("정음경험", SPERM_RANK_M:2, ARG)
		SPERM_RANK_M:5 = SPERM_RANK_M:4
		SPERM_RANK_M:4 = SPERM_RANK_M:3
		SPERM_RANK_M:3 = SPERM_RANK_M:2
		SPERM_RANK_M:2 = LCOUNT
	CASE IS > CALCF("정음경험", SPERM_RANK_M:3, ARG)
		SPERM_RANK_M:5 = SPERM_RANK_M:4
		SPERM_RANK_M:4 = SPERM_RANK_M:3
		SPERM_RANK_M:3 = LCOUNT
	CASE IS > CALCF("정음경험", SPERM_RANK_M:4, ARG)
		SPERM_RANK_M:5 = SPERM_RANK_M:4
		SPERM_RANK_M:4 = LCOUNT
	CASE IS > CALCF("정음경험", SPERM_RANK_M:5, ARG)
		SPERM_RANK_M:5 = LCOUNT
	ENDSELECT

	SPERM_TOTAL:LCOUNT += CALCF("유内정액경험", LCOUNT, ARG)
	;順位の変動
	SELECTCASE CALCF("유内정액경험", LCOUNT, ARG)
	CASE IS > CALCF("유内정액경험", SPERM_RANK_B:1, ARG)
		SPERM_RANK_B:5 = SPERM_RANK_B:4
		SPERM_RANK_B:4 = SPERM_RANK_B:3
		SPERM_RANK_B:3 = SPERM_RANK_B:2
		SPERM_RANK_B:2 = SPERM_RANK_B:1
		SPERM_RANK_B:1 = LCOUNT
	CASE IS > CALCF("유内정액경험", SPERM_RANK_B:2, ARG)
		SPERM_RANK_B:5 = SPERM_RANK_B:4
		SPERM_RANK_B:4 = SPERM_RANK_B:3
		SPERM_RANK_B:3 = SPERM_RANK_B:2
		SPERM_RANK_B:2 = LCOUNT
	CASE IS > CALCF("유内정액경험", SPERM_RANK_B:3, ARG)
		SPERM_RANK_B:5 = SPERM_RANK_B:4
		SPERM_RANK_B:4 = SPERM_RANK_B:3
		SPERM_RANK_B:3 = LCOUNT
	CASE IS > CALCF("유内정액경험", SPERM_RANK_B:4, ARG)
		SPERM_RANK_B:5 = SPERM_RANK_B:4
		SPERM_RANK_B:4 = LCOUNT
	CASE IS > CALCF("유内정액경험", SPERM_RANK_B:5, ARG)
		SPERM_RANK_B:5 = LCOUNT
	ENDSELECT

	SPERM_TOTAL:LCOUNT += CALCF("방광정액경험", LCOUNT, ARG)
	;順位の変動
	SELECTCASE CALCF("방광정액경험", LCOUNT, ARG)
	CASE IS > CALCF("방광정액경험", SPERM_RANK_U:1, ARG)
		SPERM_RANK_U:5 = SPERM_RANK_U:4
		SPERM_RANK_U:4 = SPERM_RANK_U:3
		SPERM_RANK_U:3 = SPERM_RANK_U:2
		SPERM_RANK_U:2 = SPERM_RANK_U:1
		SPERM_RANK_U:1 = LCOUNT
	CASE IS > CALCF("방광정액경험", SPERM_RANK_U:2, ARG)
		SPERM_RANK_U:5 = SPERM_RANK_U:4
		SPERM_RANK_U:4 = SPERM_RANK_U:3
		SPERM_RANK_U:3 = SPERM_RANK_U:2
		SPERM_RANK_U:2 = LCOUNT
	CASE IS > CALCF("방광정액경험", SPERM_RANK_U:3, ARG)
		SPERM_RANK_U:5 = SPERM_RANK_U:4
		SPERM_RANK_U:4 = SPERM_RANK_U:3
		SPERM_RANK_U:3 = LCOUNT
	CASE IS > CALCF("방광정액경험", SPERM_RANK_U:4, ARG)
		SPERM_RANK_U:5 = SPERM_RANK_U:4
		SPERM_RANK_U:4 = LCOUNT
	CASE IS > CALCF("방광정액경험", SPERM_RANK_U:5, ARG)
		SPERM_RANK_U:5 = LCOUNT
	ENDSELECT

	;総合順位の変動
	SELECTCASE SPERM_TOTAL:LCOUNT
	CASE IS > SPERM_TOTAL:(SPERM_RANK:1)
		SPERM_RANK:5 = SPERM_RANK:4
		SPERM_RANK:4 = SPERM_RANK:3
		SPERM_RANK:3 = SPERM_RANK:2
		SPERM_RANK:2 = SPERM_RANK:1
		SPERM_RANK:1 = LCOUNT
	CASE IS > SPERM_TOTAL:(SPERM_RANK:2)
		SPERM_RANK:5 = SPERM_RANK:4
		SPERM_RANK:4 = SPERM_RANK:3
		SPERM_RANK:3 = SPERM_RANK:2
		SPERM_RANK:2 = LCOUNT
	CASE IS > SPERM_TOTAL:(SPERM_RANK:3)
		SPERM_RANK:5 = SPERM_RANK:4
		SPERM_RANK:4 = SPERM_RANK:3
		SPERM_RANK:3 = LCOUNT
	CASE IS > SPERM_TOTAL:(SPERM_RANK:4)
		SPERM_RANK:5 = SPERM_RANK:4
		SPERM_RANK:4 = LCOUNT
	CASE IS > SPERM_TOTAL:(SPERM_RANK:5)
		SPERM_RANK:5 = LCOUNT
	ENDSELECT
NEXT

;結果発表
FOR LCOUNT, 1, CHARANUM
	;ＴＯＰ５入りのみ表示
	SIF GROUPMATCH(LCOUNT, SPERM_RANK:1, SPERM_RANK:2, SPERM_RANK:3, SPERM_RANK:4, SPERM_RANK:5) == 0
		CONTINUE

	PRINTPLAINFORM [{LCOUNT, 2}] %TEXT_LJ(CALLNAME:LCOUNT, 16)%종합{CALCF("몇번째？", LCOUNT, SPERM_RANK:1, SPERM_RANK:2, SPERM_RANK:3, SPERM_RANK:4, SPERM_RANK:5)}위
	PRINTL 
	IF CALCF("질내정액경험", LCOUNT, ARG)
		PRINTFORM  질내사정：{CALCF("질내정액경험", LCOUNT, ARG), 6}ml  
		SIF GROUPMATCH(LCOUNT, SPERM_RANK_V:1, SPERM_RANK_V:2, SPERM_RANK_V:3, SPERM_RANK_V:4, SPERM_RANK_V:5)
			PRINTFORM 제{CALCF("몇번째？", LCOUNT, SPERM_RANK_V:1, SPERM_RANK_V:2, SPERM_RANK_V:3, SPERM_RANK_V:4, SPERM_RANK_V:5)}위
		PRINTL 
	ENDIF

	IF CALCF("장내정액경험", LCOUNT, ARG)
		PRINTFORM 항내사정：{CALCF("장내정액경험", LCOUNT, ARG), 6}ml  
		SIF GROUPMATCH(LCOUNT, SPERM_RANK_A:1, SPERM_RANK_A:2, SPERM_RANK_A:3, SPERM_RANK_A:4, SPERM_RANK_A:5)
			PRINTFORM 제{CALCF("몇번째？", LCOUNT, SPERM_RANK_A:1, SPERM_RANK_A:2, SPERM_RANK_A:3, SPERM_RANK_A:4, SPERM_RANK_A:5)}위
		PRINTL 
	ENDIF

	IF CALCF("정음경험", LCOUNT, ARG)
		PRINTFORM  구내사정：{CALCF("정음경험", LCOUNT, ARG), 6}ml  
		SIF GROUPMATCH(LCOUNT, SPERM_RANK_M:1, SPERM_RANK_M:2, SPERM_RANK_M:3, SPERM_RANK_M:4, SPERM_RANK_M:5)
			PRINTFORM 제{CALCF("몇번째？", LCOUNT, SPERM_RANK_M:1, SPERM_RANK_M:2, SPERM_RANK_M:3, SPERM_RANK_M:4, SPERM_RANK_M:5)}위
		PRINTL 
	ENDIF

	IF CALCF("유内정액경험", LCOUNT, ARG)
		PRINTFORM  유내사정：{CALCF("유内정액경험", LCOUNT, ARG), 6}ml  
		SIF GROUPMATCH(LCOUNT, SPERM_RANK_B:1, SPERM_RANK_B:2, SPERM_RANK_B:3, SPERM_RANK_B:4, SPERM_RANK_B:5)
			PRINTFORM 제{CALCF("몇번째？", LCOUNT, SPERM_RANK_B:1, SPERM_RANK_B:2, SPERM_RANK_B:3, SPERM_RANK_B:4, SPERM_RANK_B:5)}위
		PRINTL 
	ENDIF

	IF CALCF("방광정액경험", LCOUNT, ARG)
		PRINTFORM 요도내사정：{CALCF("방광정액경험", LCOUNT, ARG), 6}ml  
		SIF GROUPMATCH(LCOUNT, SPERM_RANK_U:1, SPERM_RANK_U:2, SPERM_RANK_U:3)
			PRINTFORM 제{CALCF("몇번째？", LCOUNT, SPERM_RANK_U:1, SPERM_RANK_U:2, SPERM_RANK_U:3)}위
		PRINTL 
	ENDIF

	PRINTFORML 
	;次の表示があるかを체크
	MEMO_LINECOUNT = LINECOUNT
NEXT

SIF LINECOUNT == MEMO_LINECOUNT
	CLEARLINE 1

;その他色々な補발の表示
;とりあえずは中出され履歴と내사정履歴か
@PRINT_OTHER, ARG
#DIM LCOUNT
#DIM MEMO_LINECOUNT
#DIM DYNAMIC SPERM_TOTAL, 100
#DIM DYNAMIC SPERM_RANK, 10
#DIM SPERM_RANK_V, 10
#DIM SPERM_RANK_A, 10
#DIM SPERM_RANK_M, 10
#DIM SPERM_RANK_B, 10
#DIM SPERM_RANK_U, 10

VARSET SPERM_RANK_V, -1
VARSET SPERM_RANK_A, -1
VARSET SPERM_RANK_M, -1
VARSET SPERM_RANK_B, -1
VARSET SPERM_RANK_U, -1

;中出され履歴の有無체크
SIF CSTR:ARG:11 == "" && CSTR:ARG:12 == "" && CSTR:ARG:13 == "" && CSTR:ARG:14 == "" && CSTR:ARG:15 == ""
	RETURN 0
CALL DRAWLINES, "□ 搾精ランキング □", "搾精ランキング"

SIF CONFIG("항목：搾精ランキング")
	RETURN 0

;SPERM_TOTAL		LCOUNT番の캐릭터의総내사정量
;SPERM_RANK		SPERM_TOTALのランキング. 上位３人まで表示
;SPERM_RANK_(V, A, M, B, U)	各場所の내사정ランキング. 上位３人まで記録

FOR LCOUNT, 1, CHARANUM
	SPERM_TOTAL:LCOUNT = CALCF("질내정액경험", ARG, LCOUNT)
	;順位の変動
	SELECTCASE CALCF("질내정액경험", ARG, LCOUNT)
	CASE IS > CALCF("질내정액경험", ARG, SPERM_RANK_V:1)
		SPERM_RANK_V:3 = SPERM_RANK_V:2
		SPERM_RANK_V:2 = SPERM_RANK_V:1
		SPERM_RANK_V:1 = LCOUNT
	CASE IS > CALCF("질내정액경험", ARG, SPERM_RANK_V:2)
		SPERM_RANK_V:3 = SPERM_RANK_V:2
		SPERM_RANK_V:2 = LCOUNT
	CASE IS > CALCF("질내정액경험", ARG, SPERM_RANK_V:3)
		SPERM_RANK_V:3 = LCOUNT
	ENDSELECT

	SPERM_TOTAL:LCOUNT += CALCF("장내정액경험", ARG, LCOUNT)
	;順位の変動
	SELECTCASE CALCF("장내정액경험", ARG, LCOUNT)
	CASE IS > CALCF("장내정액경험", ARG, SPERM_RANK_A:1)
		SPERM_RANK_A:3 = SPERM_RANK_A:2
		SPERM_RANK_A:2 = SPERM_RANK_A:1
		SPERM_RANK_A:1 = LCOUNT
	CASE IS > CALCF("장내정액경험", ARG, SPERM_RANK_A:2)
		SPERM_RANK_A:3 = SPERM_RANK_A:2
		SPERM_RANK_A:2 = LCOUNT
	CASE IS > CALCF("장내정액경험", ARG, SPERM_RANK_A:3)
		SPERM_RANK_A:3 = LCOUNT
	ENDSELECT

	SPERM_TOTAL:LCOUNT += CALCF("정음경험", ARG, LCOUNT)
	;順位の変動
	SELECTCASE CALCF("정음경험", ARG, LCOUNT)
	CASE IS > CALCF("정음경험", ARG, SPERM_RANK_M:1)
		SPERM_RANK_M:3 = SPERM_RANK_M:2
		SPERM_RANK_M:2 = SPERM_RANK_M:1
		SPERM_RANK_M:1 = LCOUNT
	CASE IS > CALCF("정음경험", ARG, SPERM_RANK_M:2)
		SPERM_RANK_M:3 = SPERM_RANK_M:2
		SPERM_RANK_M:2 = LCOUNT
	CASE IS > CALCF("정음경험", ARG, SPERM_RANK_M:3)
		SPERM_RANK_M:3 = LCOUNT
	ENDSELECT

	SPERM_TOTAL:LCOUNT += CALCF("유内정액경험", ARG, LCOUNT)
	;順位の変動
	SELECTCASE CALCF("유内정액경험", ARG, LCOUNT)
	CASE IS > CALCF("유内정액경험", ARG, SPERM_RANK_B:1)
		SPERM_RANK_B:3 = SPERM_RANK_B:2
		SPERM_RANK_B:2 = SPERM_RANK_B:1
		SPERM_RANK_B:1 = LCOUNT
	CASE IS > CALCF("유内정액경험", ARG, SPERM_RANK_B:2)
		SPERM_RANK_B:3 = SPERM_RANK_B:2
		SPERM_RANK_B:2 = LCOUNT
	CASE IS > CALCF("유内정액경험", ARG, SPERM_RANK_B:3)
		SPERM_RANK_B:3 = LCOUNT
	ENDSELECT

	SPERM_TOTAL:LCOUNT += CALCF("방광정액경험", ARG, LCOUNT)
	;順位の変動
	SELECTCASE CALCF("방광정액경험", ARG, LCOUNT)
	CASE IS > CALCF("방광정액경험", ARG, SPERM_RANK_U:1)
		SPERM_RANK_U:3 = SPERM_RANK_U:2
		SPERM_RANK_U:2 = SPERM_RANK_U:1
		SPERM_RANK_U:1 = LCOUNT
	CASE IS > CALCF("방광정액경험", ARG, SPERM_RANK_U:2)
		SPERM_RANK_U:3 = SPERM_RANK_U:2
		SPERM_RANK_U:2 = LCOUNT
	CASE IS > CALCF("방광정액경험", ARG, SPERM_RANK_U:3)
		SPERM_RANK_U:3 = LCOUNT
	ENDSELECT

	;総合順位の変動
	SELECTCASE SPERM_TOTAL:LCOUNT
	CASE IS > SPERM_TOTAL:(SPERM_RANK:1)
		SPERM_RANK:3 = SPERM_RANK:2
		SPERM_RANK:2 = SPERM_RANK:1
		SPERM_RANK:1 = LCOUNT
	CASE IS > SPERM_TOTAL:(SPERM_RANK:2)
		SPERM_RANK:3 = SPERM_RANK:2
		SPERM_RANK:2 = LCOUNT
	CASE IS > SPERM_TOTAL:(SPERM_RANK:3)
		SPERM_RANK:3 = LCOUNT
	ENDSELECT
NEXT

;結果発表
FOR LCOUNT, 1, CHARANUM
	;ＴＯＰ３入りのみ表示
	SIF GROUPMATCH(LCOUNT, SPERM_RANK:1, SPERM_RANK:2, SPERM_RANK:3) == 0
		CONTINUE

	PRINTPLAINFORM [{LCOUNT, 2}] %TEXT_LJ(CALLNAME:LCOUNT, 16)%종합{CALCF("몇번째？", LCOUNT, SPERM_RANK:1, SPERM_RANK:2, SPERM_RANK:3)}위
	PRINTL 
	IF CALCF("질내정액경험", ARG, LCOUNT)
		PRINTFORM  질내사정：{CALCF("질내정액경험", ARG, LCOUNT), 6}ml  
		SIF GROUPMATCH(LCOUNT, SPERM_RANK_V:1, SPERM_RANK_V:2, SPERM_RANK_V:3)
			PRINTFORM 제{CALCF("몇번째？", LCOUNT, SPERM_RANK_V:1, SPERM_RANK_V:2, SPERM_RANK_V:3)}위
		PRINTL 
	ENDIF

	IF CALCF("장내정액경험", ARG, LCOUNT)
		PRINTFORM 항내사정：{CALCF("장내정액경험", ARG, LCOUNT), 6}ml  
		SIF GROUPMATCH(LCOUNT, SPERM_RANK_A:1, SPERM_RANK_A:2, SPERM_RANK_A:3)
			PRINTFORM 제{CALCF("몇번째？", LCOUNT, SPERM_RANK_A:1, SPERM_RANK_A:2, SPERM_RANK_A:3)}위
		PRINTL 
	ENDIF

	IF CALCF("정음경험", ARG, LCOUNT)
		PRINTFORM  구내사정：{CALCF("정음경험", ARG, LCOUNT), 6}ml  
		SIF GROUPMATCH(LCOUNT, SPERM_RANK_M:1, SPERM_RANK_M:2, SPERM_RANK_M:3)
			PRINTFORM 제{CALCF("몇번째？", LCOUNT, SPERM_RANK_M:1, SPERM_RANK_M:2, SPERM_RANK_M:3)}위
		PRINTL 
	ENDIF

	IF CALCF("유内정액경험", ARG, LCOUNT)
		PRINTFORM  유내사정：{CALCF("유内정액경험", ARG, LCOUNT), 6}ml  
		SIF GROUPMATCH(LCOUNT, SPERM_RANK_B:1, SPERM_RANK_B:2, SPERM_RANK_B:3)
			PRINTFORM 제{CALCF("몇번째？", LCOUNT, SPERM_RANK_B:1, SPERM_RANK_B:2, SPERM_RANK_B:3)}위
		PRINTL 
	ENDIF

	IF CALCF("방광정액경험", ARG, LCOUNT)
		PRINTFORM 요도내사정：{CALCF("방광정액경험", ARG, LCOUNT), 6}ml  
		SIF GROUPMATCH(LCOUNT, SPERM_RANK_U:1, SPERM_RANK_U:2, SPERM_RANK_U:3)
			PRINTFORM 제{CALCF("몇번째？", LCOUNT, SPERM_RANK_U:1, SPERM_RANK_U:2, SPERM_RANK_U:3)}위
		PRINTL 
	ENDIF

	PRINTFORML 
	;次の表示があるかを체크
	MEMO_LINECOUNT = LINECOUNT
NEXT

;이하일반인と드래곤と촉수
IF CALCF("질내정액경험", ARG, -4) + CALCF("장내정액경험", ARG, -4) + CALCF("정음경험", ARG, -4) + CALCF("유内정액경험", ARG, -4) + CALCF("방광정액경험", ARG, -4)
	PRINTFORML [×] 일반인
	SIF CALCF("질내정액경험", ARG, -4)
		PRINTFORML  질내사정：{CALCF("질내정액경험", ARG, -4), 6}ml 
	SIF CALCF("장내정액경험", ARG, -4)
		PRINTFORML 항내사정：{CALCF("장내정액경험", ARG, -4), 6}ml 
	SIF CALCF("정음경험", ARG, -4)
		PRINTFORML  구내사정：{CALCF("정음경험", ARG, -4), 6}ml 
	SIF CALCF("유内정액경험", ARG, -4)
		PRINTFORML  유내사정：{CALCF("유内정액경험", ARG, -4), 6}ml 
	SIF CALCF("방광정액경험", ARG, -4)
		PRINTFORML 요도내사정：{CALCF("방광정액경험", ARG, -4), 6}ml 
	PRINTFORML 
	;次の表示があるかを체크
	MEMO_LINECOUNT = LINECOUNT
ENDIF
IF CALCF("질내정액경험", ARG, -3) + CALCF("장내정액경험", ARG, -3) + CALCF("정음경험", ARG, -3) + CALCF("유内정액경험", ARG, -3) + CALCF("방광정액경험", ARG, -3)
	PRINTFORML [×] 드래곤
	SIF CALCF("질내정액경험", ARG, -3)
		PRINTFORML  질내사정：{CALCF("질내정액경험", ARG, -3), 6}ml 
	SIF CALCF("장내정액경험", ARG, -3)
		PRINTFORML 항내사정：{CALCF("장내정액경험", ARG, -3), 6}ml 
	SIF CALCF("정음경험", ARG, -3)
		PRINTFORML  구내사정：{CALCF("정음경험", ARG, -3), 6}ml 
	SIF CALCF("유内정액경험", ARG, -3)
		PRINTFORML  유내사정：{CALCF("유内정액경험", ARG, -3), 6}ml 
	SIF CALCF("방광정액경험", ARG, -3)
		PRINTFORML 요도내사정：{CALCF("방광정액경험", ARG, -3), 6}ml 
	PRINTFORML 
	;次の表示があるかを체크
	MEMO_LINECOUNT = LINECOUNT
ENDIF
IF CALCF("질내정액경험", ARG, -5) + CALCF("장내정액경험", ARG, -5) + CALCF("정음경험", ARG, -5) + CALCF("유内정액경험", ARG, -5) + CALCF("방광정액경험", ARG, -5)
	PRINTFORML [×] 촉수
	SIF CALCF("질내정액경험", ARG, -5)
		PRINTFORML  질내사정：{CALCF("질내정액경험", ARG, -5), 6}ml 
	SIF CALCF("장내정액경험", ARG, -5)
		PRINTFORML 항내사정：{CALCF("장내정액경험", ARG, -5), 6}ml 
	SIF CALCF("정음경험", ARG, -5)
		PRINTFORML  구내사정：{CALCF("정음경험", ARG, -5), 6}ml 
	SIF CALCF("유内정액경험", ARG, -5)
		PRINTFORML  유내사정：{CALCF("유内정액경험", ARG, -5), 6}ml 
	SIF CALCF("방광정액경험", ARG, -5)
		PRINTFORML 요도내사정：{CALCF("방광정액경험", ARG, -5), 6}ml 
	PRINTFORML 
	;次の表示があるかを체크
	MEMO_LINECOUNT = LINECOUNT
ENDIF

SIF LINECOUNT == MEMO_LINECOUNT
	CLEARLINE 1


@PRINT_INDICATE, ARG
SIF ABL:ARG:조수 == 0 || ARG == MASTER
	RETURN 0

LOCALS = □ %TEXTS("조수の명칭")%のお仕事指示 □
CALL DRAWLINES, LOCALS, "조수のお仕事지시"

SIF CONFIG("항목：조수のお仕事지시")
	RETURN 0

CALL ASSI_LIST_INDICATE, ARG
PRINTL 

@PRINT_ANALYSIS, ARG
SIF ARG == MASTER
	RETURN 0
SWAP ARG, TARGET

CALL ANALYSIS_CALC

CALL DRAWLINES, "□ 애널라이즈 □"

TCVAR:27 = 0
CALL COM_ORDER, 1

LOCAL = RESULT

IF EXP:조교횟수 == 0
	CALL SHOW_DIFFICULTY
	PRINTL 
ENDIF
PRINTFORML 조교실행치 보정:\@ LOCAL ? {LOCAL} # 없음 \@

CALL ANALYSIS_CALC_SB

VARSET SOURCE
VARSET CUP

FLAG:8 = 1
SWAP ARG, TARGET

@PRINT_VIDEO, ARG
#DIM LCOUNT
SIF CFLAG:ARG:60 == 0
	RETURN 0

CALL DRAWLINES, "□ 出演作品詳細(タイトル상성は最新10本のみ) □", "출연作品詳細"

SIF CONFIG("항목：출연作品詳細")
	RETURN 0

VARSET LOCALS
SPLIT CSTR:ARG:80, "/", LOCALS
FOR LCOUNT, 0, 10
	SIF LOCALS:LCOUNT == ""
		BREAK
	PRINTFORML %LOCALS:LCOUNT%
NEXT
PRINTL 
PRINTFORML   총작품수：{CFLAG:ARG:60, 2}본역대 최고가격：%MONEY_C(CFLAG:ARG:61)%
;PRINTFORML 　　平均価格：%MONEY_C(CFLAG:ARG:62 / CFLAG:ARG:60)%
;SIF CFLAG:ARG:63
;	PRINTFORML 直近三本平均：%MONEY_C( (CFLAG:ARG:63 + CFLAG:ARG:64 + CFLAG:ARG:65)/3)%

@PRINT_MIDASHINAMI, ARG
#DIM LCOUNT
SIF CFLAG:ARG:368 == 0
	RETURN 0
IF ARG == MASTER
	CALL DRAWLINES, "□ 身嗜み □", "身嗜み"
ELSE
	CALL DRAWLINES, "□ 身嗜み지시 □", "身嗜み"
ENDIF

SIF CONFIG("항목：身嗜み")
	RETURN 0

SELECTCASE COND("身嗜み：음모", ARG)
CASE 3
	PRINTFORML ·음모를 항상 맨질맨질하게 유지
CASE 5
	PRINTFORML ·음모를 항상 정리
CASE 7
	PRINTFORML ·음모를 깎지않는다
ENDSELECT

SELECTCASE COND("身嗜み：겨털", ARG)
CASE 3
	PRINTFORML ·%TEXTS("겨드랑이")%털을 항상 맨질맨질하게 유지
CASE 7
	PRINTFORML ·%TEXTS("겨드랑이")%털을 깎지않는다
ENDSELECT

SELECTCASE COND("身嗜み：Ｖ확장", ARG)
CASE 1
	PRINTFORML ·질에 항상 바이브를 삽입
CASE 2
	PRINTFORML ·질에 항상 큰 바이브를 삽입
CASE 3
	PRINTFORML ·질에 항상 극태 사이즈 바이브를 삽입
CASE 4
	PRINTFORML ·질에 항상 벌룬형 바이브를 삽입
ENDSELECT

SELECTCASE COND("身嗜み：Ａ확장", ARG)
CASE 1
	PRINTFORML ·애널에 항상 애널플러그를 삽입
CASE 2
	PRINTFORML ·애널에 항상 큰 애널플러그를 삽입
CASE 3
	PRINTFORML ·애널에 항상 극태 사이즈 애널플러그를 삽입
CASE 4
	PRINTFORML ·애널에 항상 벌룬형 애널플러그를 삽입
ENDSELECT

SELECTCASE COND("身嗜み：Ａ準備", ARG)
CASE 1
	PRINTFORML ·조교전에 장내를 깨끗하게 한다
CASE 2
	PRINTFORML ·조교전에 애널에 로션를 주입한다
CASE 3
	PRINTFORML ·조교전에장안세정＆로션준비
ENDSELECT

SELECTCASE COND("身嗜み：Ｐ準備", ARG)
CASE 1
	PRINTFORML ·페니스노치구는 그대로 해 둔다
ENDSELECT

SELECTCASE COND("身嗜み：Ｖ準備", ARG)
CASE 1
	PRINTFORML ·조교전의 입욕은 삼가한다
ENDSELECT

SELECTCASE COND("身嗜み：복장", ARG)
CASE 1
	PRINTFORML ·팬티는 입지 않는다
ENDSELECT

SELECTCASE COND("身嗜み：요도확장", ARG)
CASE 1
	PRINTFORML ·에 항상 비즈형의 브지를삽입
ENDSELECT

SELECTCASE COND("身嗜み：성행위の제한", ARG)
CASE 1
	PRINTFORML ·전의 구멍을 사용한 성행위는%CALLNAME:MASTER%(와)과 만
CASE 2
	PRINTFORML ·애널을 사용한 성행위는%CALLNAME:MASTER%(와)과 만
CASE 3
	PRINTFORML ·입를 사용해봉사하%CALLNAME:MASTER%에만
CASE 4
	PRINTFORML ·키스하%CALLNAME:MASTER%(와)과 만
CASE 5
	PRINTFORML ·페니스를 사용한 성행위는%CALLNAME:MASTER%(와)과 만
CASE 100
	PRINTFORML ·%CALLNAME:ARG%하%CALLNAME:MASTER%의 것
CASE IS > 0
	VARSET LOCALS
	LOCALS = %LOCALS%\@ COND("身嗜み：Ｖ독점", ARG) ? アソコと # \@
	LOCALS = %LOCALS%\@ COND("身嗜み：Ａ독점", ARG) ? 애널と # \@
	LOCALS = %LOCALS%\@ COND("身嗜み：입독점", ARG) ? 입での봉사と # \@
	LOCALS = %LOCALS%\@ COND("身嗜み：키스독점", ARG) ? 키스と # \@
	LOCALS = %LOCALS%\@ COND("身嗜み：Ｐ독점", ARG) ? 肉棒と # \@
	PRINTFORML ·%SUBSTRING(LOCALS, 0, STRLENS(LOCALS) - 2)%를 이용한 행위는%CALLNAME:MASTER%(와)과 만
ENDSELECT

;SELECTCASE COND("身嗜み：Ｖ準備", ARG)
;CASE 1
;	PRINTFORML ・いつも보지를綺麗にする
;CASE 2
;	PRINTFORML ・조교前に보지に로션を馴染ませる
;CASE 3
;	PRINTFORML ・いつも보지綺麗にさせる＆로션準備
;ENDSELECT

@PRINT_COS, ARG
#DIM LCOUNT
SIF ARG == MASTER
	RETURN 0

CALL DRAWLINES, "□ 服装詳細 □", "복장詳細"

SIF CONFIG("항목：服装詳細")
	RETURN 0

SIF EQUIP:ARG:웃옷
	PRINTFORML  Ｅ：[%SHIRT(ARG)%\@ CHECK_SHIRT("스커트着用", ARG) && EQUIP:ARG:스커트 == 0 ? (스커트없음) # \@]
IF EQUIP:ARG:보디슈츠
	PRINTFORM  Ｅ：[%BODYS(ARG)%
	IF CHECK_BODYS("파스너", ARG)
		PRINT (지퍼)
	ELSEIF CHECK_BODYS("ＶＡ노출", ARG)
		PRINT (열림)
	ELSEIF CHECK_BODYS("Ａ노출", ARG)
		PRINT (Ａ열림)
	ELSEIF CHECK_BODYS("Ｖ노출", ARG)
		PRINT (Ｖ열림)
	ENDIF
	PRINTL ]
ENDIF
SIF EQUIP:ARG:브래지어
	PRINTFORML  Ｅ：[%BRA(ARG)%]
IF EQUIP:ARG:겉옷
	PRINTFORM  Ｅ：[%OUTER(ARG)%
	IF CHECK_OUTER("파스너", ARG)
		PRINT (지퍼)
	ELSEIF CHECK_OUTER("슬릿", ARG)
		PRINT (슬릿)
	ELSEIF CHECK_OUTER("ＶＡ노출", ARG)
		PRINT (열림)
	ELSEIF CHECK_OUTER("Ａ노출", ARG)
		PRINT (Ａ열림)
	ELSEIF CHECK_OUTER("Ｖ노출", ARG)
		PRINT (Ｖ열림)
	ENDIF
	PRINTL ]
ENDIF
IF EQUIP:ARG:팬티
	PRINTFORM  Ｅ：[%PANTIES(ARG)%
	IF CHECK_PANTIES("파스너", ARG)
		PRINT (지퍼)
	ELSEIF CHECK_PANTIES("ＶＡ노출", ARG)
		PRINT (열림)
	ELSEIF CHECK_PANTIES("Ａ노출", ARG)
		PRINT (Ａ열림)
	ELSEIF CHECK_PANTIES("Ｖ노출", ARG)
		PRINT (Ｖ열림)
	ENDIF
	PRINTL ]
ENDIF
SIF EQUIP:ARG:양말
	PRINTFORML  Ｅ：[%SOCKS(ARG)%]
SIF EQUIP:ARG:신발
	PRINTFORML  Ｅ：[%SHOES(ARG)%]
SIF EQUIP:ARG:장갑
	PRINTFORML  Ｅ：[%GLOVE(ARG)%]
IF EQUIP:ARG:악세사리
	SPLIT CSTR:ARG:49, "/", LOCALS
	FOR LCOUNT, 0, 4
		SIF LOCALS:LCOUNT != ""
			PRINTFORML  Ｅ：[%LOCALS:LCOUNT%]
	NEXT
ENDIF
IF TALENT:ARG:클리피어스
	PRINTFORM  Ｅ：[\@ PENIS(TARGET) ? 페니 # 클리 \@피어스
	IF CEVENTS("클리피어스", ARG) != ""
		SETCOLOR DEF_COLOR("황색")
		PRINTFORM (%CEVENTS("클리피어스", ARG)%)
		RESETCOLOR
	ENDIF
	PRINTFORML ]
ENDIF
IF TALENT:ARG:라비아피어스
	PRINTFORM  Ｅ：[라비아피어스
	IF CEVENTS("라비아피어스", ARG) != ""
		SETCOLOR DEF_COLOR("황색")
		PRINTFORM (%CEVENTS("라비아피어스", ARG)%)
		RESETCOLOR
	ENDIF
	PRINTFORML ]
ENDIF
IF TALENT:ARG:니플피어스
	PRINTFORM  Ｅ：[니플피어스
	IF CEVENTS("니플피어스", ARG) != ""
		SETCOLOR DEF_COLOR("황색")
		PRINTFORM (%CEVENTS("니플피어스", ARG)%)
		RESETCOLOR
	ENDIF
	PRINTFORML ]
ENDIF
IF TALENT:ARG:배꼽피어스
	PRINTFORM  Ｅ：[배꼽피어스
	IF CEVENTS("배꼽피어스", ARG) != ""
		SETCOLOR DEF_COLOR("황색")
		PRINTFORM (%CEVENTS("배꼽피어스", ARG)%)
		RESETCOLOR
	ENDIF
	PRINTFORML ]
ENDIF

;IF TALENT:ARG:상시바이브
;	LOCALS = 
;	SELECTCASE COND("身嗜み：Ｖ확장", ARG)
;	CASE 2
;		LOCALS = (대)
;	CASE 3
;		LOCALS = (극태)
;	CASE 4
;		LOCALS = (벌룬형)
;	ENDSELECT
;	PRINTFORML 　Ｅ：[바이브%LOCALS%]
;ENDIF
;IF TALENT:ARG:상시Ａ플러그
;	LOCALS = 
;	SELECTCASE COND("身嗜み：Ａ확장", ARG)
;	CASE 2
;		LOCALS = (대)
;	CASE 3
;		LOCALS = (극태)
;	CASE 4
;		LOCALS = (벌룬형)
;	ENDSELECT
;	PRINTFORML 　Ｅ：[애널플러그%LOCALS%]
;ENDIF

LOCALS = 
IF CHECK_CLO("알몸", ARG)
	LOCALS = 알몸
ELSE
	IF CHECK_CLO("바텀리스", ARG)
		LOCALS = 하반신노출
	ELSEIF CHECK_CLO("토플리스", ARG)
		IF TALENT:ARG:남자
			LOCALS = 상반신노출
		ELSE
 			LOCALS = 가슴노출
		ENDIF
	ELSEIF CHECK_CLO("Ｖ노출", ARG) && CHECK_CLO("Ａ노출", ARG) && CHECK_CLO("유두노출", ARG)
		LOCALS = 중요한부분만노출
	ELSEIF CHECK_CLO("노팬티", ARG)
		LOCALS = 노팬티
	ENDIF
ENDIF

SIF STRLENS(LOCALS)
	PRINTFORML 비고：%LOCALS%

;3サイズ
@NEW_PRINT_3SIZE, ARG, ARGS
SIF CONFIG("３사이즈：표시") == 0
	RETURN 0
SELECTCASE ARGS
CASE "일람표시"
	IF BASE:ARG:신장 == 0 || (TALENT:ARG:남자 && COND("오토코노코", ARG) == 0)
		PRINTL 
		RETURN 0
	ENDIF
	IF TALENT:ARG:라미아
		PRINTFORM {BASE:ARG:신장 + BASE:ARG:신장의추가요소, 3}cm
	ELSE
		PRINTFORM {BASE:ARG:신장, 3}cm
	ENDIF
	
	LOCALS = (%CONDS("바스트컵", ARG)%)
	PRINTFORM  {COND("바스트", ARG), 3}%TEXT_RJ(LOCALS, 5)%-{BASE:ARG:웨스트, 3} -{BASE:ARG:힙, 3}
	;LOCALS = (%CONDS("힙사이즈", ARG)%)
	;PRINTFORM  %TEXT_RJ(LOCALS, 4)%
	IF TALENT:ARG:남자
		PRINTFORM (--) 
	ELSEIF TALENT:ARG:큰엉덩이 >= 3
		PRINTFORM (초과) 
	ELSEIF TALENT:ARG:큰엉덩이 == 2
		PRINTFORM (폭) 
	ELSEIF TALENT:ARG:큰엉덩이
		PRINTFORM (거) 
	ELSEIF TALENT:ARG:작은엉덩이
		PRINTFORM (소) 
	ELSE
		PRINTFORM (보통) 
	ENDIF
	;음모の状態
	IF CONFIG("음모と겨털")
		IF BASE:ARG:음모 == 0
			PRINTFORM ---------- 
		ELSE
			PRINTFORM %TEXT_RJ(CONDS("음모", ARG), 10)% 
		ENDIF
	ENDIF
	PRINTFORM %CONDS("体型", ARG)%

CASE "個別표시"
	SIF BASE:ARG:신장 == 0 || (TALENT:ARG:남자 && COND("오토코노코", ARG) == 0)
		RETURN 0
	LOCALS = □ 체형:%CONDS("体型", ARG)% □
	CALL DRAWLINES, LOCALS, "体型"

	SIF CONFIG("항목：体型")
		RETURN 0

	IF TALENT:ARG:라미아
		PRINTFORM 몸길이 {BASE:ARG:신장 + BASE:ARG:신장의추가요소}cm 
	ELSE
		PRINTFORM 신장 {BASE:ARG:신장}cm 
	ENDIF
	PRINTFORM 바스트 {COND("바스트", ARG)}cm (%CONDS("바스트컵", ARG)%컵) 웨스트 {BASE:ARG:웨스트}cm 힙 {BASE:ARG:힙}cm 
	;SIF CONDS("엉덩이", ARG) != ""
	;	PRINTFORM （%CONDS("엉덩이", ARG)%）
	IF TALENT:ARG:남자
	;	PRINTFORM (--) 
	ELSEIF TALENT:ARG:큰엉덩이 >= 3
		PRINTFORM (초과) 
	ELSEIF TALENT:ARG:큰엉덩이 == 2
		PRINTFORM (폭) 
	ELSEIF TALENT:ARG:큰엉덩이
		PRINTFORM (거) 
	ELSEIF TALENT:ARG:작은엉덩이
		PRINTFORM (소) 
	ELSE
		PRINTFORM (보통) 
	ENDIF
ENDSELECT
PRINTL 

;속성
@NEW_PRINT_ZOKUSEI, ARG, ARG:1
#DIM LCOUNT

VARSET LOCAL
SELECTCASE ARG
CASE MASTER
	IF TALENT:MASTER:성벽
		CALL DRAWLINES, "□ 성벽 □", "성벽"

		IF CONFIG("항목：성벽") == 0
			FOR LCOUNT, 0, NUM("속성")
				SIF GETBIT(TALENT:MASTER:성벽, LCOUNT) == 0
					CONTINUE

				LOCALS = %NAMES("속성", LCOUNT)%
				LOCAL += STRLENS(LOCALS)
				IF LOCAL > NUM("折り返し文字数")
					PRINTL 
					LOCAL = STRLENS(LOCALS)
				ENDIF
				PRINTFORM %LOCALS%
			NEXT
			PRINTL 
		ENDIF
	ENDIF
	IF TALENT:MASTER:성감대
		CALL DRAWLINES, "□ 성감대 □", "성감대"

		IF CONFIG("항목：성감대") == 0
			IF NUM_BIT(TALENT:MASTER:성감대) == NUM("성감대")
				PRINT [모두에 약하다] 
			ELSE
				FOR LCOUNT, 0, NUM("성감대")
					SIF GETBIT(TALENT:MASTER:성감대, LCOUNT) == 0
						CONTINUE

					LOCALS = %NAMES("성감대", LCOUNT)%
					LOCAL += STRLENS(LOCALS)
					IF LOCAL > NUM("折り返し文字数")
						PRINTL 
						LOCAL = STRLENS(LOCALS)
					ENDIF
					PRINTFORM %LOCALS%
				NEXT
			ENDIF
			PRINTL 
		ENDIF
	ENDIF
ENDSELECT

;主人でも表示してみる
;SIF BASE:ARG:속성 == 0 || (ARG == MASTER && TALENT:ARG:남자)
SIF BASE:ARG:속성 == 0
	RETURN 0

CALL DRAWLINES, "□ 속성 □", "속성"

SIF CONFIG("항목：속성")
	RETURN 0

VARSET LOCAL
FOR LCOUNT, 0, NUM("속성")
	SIF GETBIT(BASE:ARG:속성, LCOUNT) == 0
		CONTINUE

	SIF GETBIT(TALENT:MASTER:성벽, LCOUNT)
		SETCOLOR DEF_COLOR("노랑")
	LOCALS = %NAMES("속성", LCOUNT)%
	LOCAL += STRLENS(LOCALS)
	IF LOCAL > NUM("折り返し文字数")
		PRINTL 
		LOCAL = STRLENS(LOCALS)
	ENDIF
	PRINTFORM %LOCALS%
	RESETCOLOR
NEXT
PRINTL 

;宝구슬
@NEW_PRINT_JUEL, ARG
#DIM LCOUNT
;改行するかの判定に使う
#DIM NEXT_LINE

;表示順の설정
; 0,　쾌Ｃ　  1,　쾌Ｖ　  2,　쾌Ａ　 14,　쾌Ｂ
;15,　쾌Ｍ　  5,　욕정　  4,　순종　  6,　굴복
; 7,　습득　  8,　치정　  9,　고통　 10,　공포
;11,　반감
SIF ARG == MASTER
	RETURN 0

CALL DRAWLINES, "□ 宝구슬 □", "宝구슬"

SIF CONFIG("항목：宝구슬")
	RETURN 0

NEXT_LINE = 0
FOR LCOUNT, 0, 13
	SELECTCASE LCOUNT
	CASE 0
		LOCAL = 0
	CASE 1
		LOCAL = 1
	CASE 2
		LOCAL = 2
	CASE 3
		LOCAL = 14
	CASE 4
		LOCAL = 15
	CASE 5
		LOCAL = 5
	CASE 6
		LOCAL = 4
	CASE 7
		LOCAL = 6
	CASE 8
		LOCAL = 7
	CASE 9
		LOCAL = 8
	CASE 10
		LOCAL = 9
	CASE 11
		LOCAL = 10
	CASE 12
		SIF JUEL:ARG:반감 == 0
			CONTINUE
		LOCAL = 11
	ENDSELECT

	PRINTFORM %PALAMNAME:LOCAL%:%PALAM_NUM(JUEL:ARG:LOCAL)% 
	NEXT_LINE += 1
	SIF NEXT_LINE % 6 == 0
		PRINTL 
NEXT
;最後のループで改行してなかったら改行
SIF NEXT_LINE % 6
	PRINTL 

RETURN 0

;경험
@NEW_PRINT_EXP, ARG
#DIM LCOUNT
#DIM LCOUNT2
;改行するかの判定に使う
#DIM NEXT_LINE

CALL DRAWLINES, "□ 경험 □", "경험"

SIF CONFIG("항목：경험")
	RETURN 0

;表示順の설정
LOCALS = 
LOCALS += "　　　　　Ｖ경험/　　　Ｖ성교경험/　　　Ｖ확장경험/　Ｖ피스트경험/"
LOCALS += "　　　　　Ａ경험/　　　Ａ성교경험/　　　Ａ확장경험/　Ａ피스트경험/"
LOCALS += "　　　　자궁경험/　　　자궁간경험/　　　　절정경험/　　　　사정경험/"
LOCALS += "　　　　정액경험/　　질내정액경험/　　장내정액경험/　　　　정음경험/"
LOCALS += "　　　　자위경험/　　　Ｖ삽입경험/　　　Ａ삽입경험/　　　목성교경험/"
;[남자]なら40,레즈경험のかわりに41,BL경험を表示
IF TALENT:ARG:남자
	LOCALS += "　　　　ＢＬ경험/　　　　노출경험/　　　　관장경험/　　　　ＳＭ경험/"
ELSE
	LOCALS += "　　　　레즈경험/　　　　노출경험/　　　　관장경험/　　　　ＳＭ경험/"
ENDIF
LOCALS += "　　　　촬영경험/　　실금경험/　　　　성수경험/　　　　긴박경험/"
LOCALS += "　　　　음뇨경험/　　질내욕뇨경험/　　자궁욕뇨경험/　　온천관장경험/"
LOCALS += "　　　　키스경험/　　　펠라경험/　　　　수음경험/　　　풋잡경험/"
LOCALS += "　　　허리사용경험/　　파이즈리경험/　　　Ａ자극경험/　　　커닐링구스경험/"
LOCALS += "　　　A핥기경험/청소펠라경험/청소쿤니경험/청소A핥기경험/"
LOCALS += "　　봉사쾌락경험/　　가학쾌락경험/　　고통쾌락경험/　　수치쾌락경험/"
LOCALS += "　　처녀탈취경험/　　동정탈취경험/　　슬라임경험/　　　　촉수경험/"
LOCALS += "　　　Ｂ성교경험/　　　Ｂ삽입경험/　　유内정액경험/　　　　분유경험/"
LOCALS += "　　　Ｖ용간경험/　　　Ａ용간경험/　　요도고문경험/　　　　요도경험/"
LOCALS += "　　요도확장경험/　　요도성교경험/　　요도삽입경험/　　방광정액경험/"
LOCALS += "　　　　수뇨경험/　　　　가창경험/　　　Ｖ손상경험/　　　Ａ손상경험/"


SPLIT LOCALS, "/", LOCALS

;一손間多いが上の表の見やすさのためにあえてめんどい事をやる
FOR LCOUNT, 0, 100
	FOR LCOUNT2, 0, 7
		SIF SUBSTRING(LOCALS:LCOUNT, 0, 2) != "　"
			BREAK
		LOCALS:LCOUNT = %SUBSTRING(LOCALS:LCOUNT, 2, -1)%
	NEXT
NEXT

NEXT_LINE = 0
FOR LCOUNT, 0, 100
	LOCAL = GETNUM(EXP, LOCALS:LCOUNT)

	IF LOCAL < 0
		BREAK
	ELSEIF EXP:ARG:LOCAL >= 1
		IF STRLENS(EXPNAME:LOCAL) >= 14
			PRINTFORM %TEXT_RJ(SUBSTRING(EXPNAME:LOCAL, 0, STRLENS(EXPNAME:LOCAL) - 4), 13)%:
		ELSE
			PRINTFORM %TEXT_RJ(EXPNAME:LOCAL, 13)%:
		ENDIF

		;今回조교で得た경험は色を変えるテスト
		SIF COND("조교中") && EXP_GAIN(LOCAL, ARG)
			SETCOLOR DEF_COLOR("황색")

		SELECTCASE EXP:ARG:LOCAL
		CASE IS >= 100000000
			PRINTFORM {EXP:ARG:LOCAL/1000000, 4}M 
		CASE IS >= 100000
			PRINTFORM {EXP:ARG:LOCAL/1000, 4}k 
		CASEELSE
			PRINTFORM {EXP:ARG:LOCAL, 5} 
		ENDSELECT

		RESETCOLOR
	ELSEIF CONFIG("경험표시詰め")
		CONTINUE
	ELSE
		PRINT  ？？？？？？: 0 
	ENDIF

	NEXT_LINE += 1
	SIF NEXT_LINE%4 == 0
		PRINTL 
NEXT
;最後のループで改行してなかったら改行
SIF NEXT_LINE%4
	PRINTL 

RETURN 0

;이상경험
@NEW_PRINT_EXP50, ARG
#DIM LCOUNT
#DIM MEMO_STR

SIF EXP:ARG:이상경험 == 0
	RETURN 0
LOCALS = □ 이상경험:{EXP:ARG:이상경험, 2} □
CALL DRAWLINES, LOCALS, "이상경험"

SIF CONFIG("항목：이상경험")
	RETURN 0

MEMO_STR = 0
VARSET LOCALS

IF GETBITS(CFLAG:ARG:11, 0, 19)
	LOCALS = 
	SIF GETBIT(CFLAG:ARG:11, 0)
		LOCALS += "극태"
	SIF GETBIT(CFLAG:ARG:11, 1)
		LOCALS += "바이브로 "
	SIF GETBIT(CFLAG:ARG:11, 8)
		LOCALS += "촉수로 "
	SIF GETBIT(CFLAG:ARG:11, 2)
		LOCALS += "３Ｐ로 "
	SIF GETBIT(CFLAG:ARG:11, 3)
		LOCALS = %LOCALS%%TEXTS("조수の명칭")%のペニバン
	SIF GETBIT(CFLAG:ARG:11, 4)
		LOCALS += "페니스밴드"
	IF (GETBIT(CFLAG:ARG:11, 3) || GETBIT(CFLAG:ARG:11, 4) ) && GETBIT(CFLAG:ARG:11, 5)
		LOCALS += "에 올라타서 "
	ELSEIF GETBIT(CFLAG:ARG:11, 5)
		LOCALS += "기승위로 "
	ELSEIF GETBIT(CFLAG:ARG:11, 6)
		LOCALS += "로 "
	ENDIF
	LOCALS += "처녀상실"
	SIF GETBIT(CFLAG:ARG:11, 7)
		LOCALS += "(촬영)"
	LOCALS = [%LOCALS%]
ENDIF
SIF GETBIT(CFLAG:ARG:11, 20)
	LOCALS:1 = [동정인데 Ａ섹스경험]
IF GETBIT(CFLAG:ARG:11, 32)
	IF GETBIT(CFLAG:ARG:11, 30) || GETBIT(CFLAG:ARG:11, 31)
		SIF GETBIT(CFLAG:ARG:11, 30)
			LOCALS:2 += "처녀"
		SIF GETBIT(CFLAG:ARG:11, 30) && GETBIT(CFLAG:ARG:11, 31)
			LOCALS:2 += ", "
		SIF GETBIT(CFLAG:ARG:11, 31)
			LOCALS:2 += "동정"
		LOCALS:2 += "보다 먼저"
	ENDIF
	LOCALS:2 = [%LOCALS:2% Ａ처녀상실]
ENDIF

SIF GETBIT(CFLAG:ARG:12, 0)
	LOCALS:3 = [공개자위]
SIF GETBIT(CFLAG:ARG:12, 1)
	LOCALS:4 = [야외전라]
SIF GETBIT(CFLAG:ARG:12, 2)
	LOCALS:5 = [공개제모]
SIF GETBIT(CFLAG:ARG:12, 3)
	LOCALS:6 = [공개방뇨]
SIF GETBIT(CFLAG:ARG:12, 4)
	LOCALS:7 = [성기피어스]
SIF GETBIT(CFLAG:ARG:12, 5)
	LOCALS:8 = [\@ GETBIT(CFLAG:ARG:12, 6) ? 야외 # \@배설\@ GETBIT(CFLAG:ARG:12, 7) ? 녹화 # \@]
SIF GETBIT(CFLAG:ARG:12, 8)
	LOCALS:9 = [애널봉사]
SIF GETBIT(CFLAG:ARG:12, 9)
	LOCALS:10 = [청소펠라(Ａ)]
SIF GETBIT(CFLAG:ARG:12, 10)
	LOCALS:11 = [양구멍삽입]

IF GETBIT(CFLAG:ARG:12, 11) || GETBIT(CFLAG:ARG:12, 12)
	SIF GETBIT(CFLAG:ARG:12, 11)
		LOCALS:12 += "Ｖ"
	SIF GETBIT(CFLAG:ARG:12, 12)
		LOCALS:12 += "Ａ"
	LOCALS:12 = [%LOCALS:12%확장]
ENDIF

SIF GETBIT(CFLAG:ARG:12, 13)
	LOCALS:13 = [피스트]
SIF GETBIT(CFLAG:ARG:12, 14)
	LOCALS:14 = [용간]

IF GETBIT(CFLAG:ARG:12, 16)
	LOCALS:15 = [오중절정]
ELSEIF GETBIT(CFLAG:ARG:12, 15)
	LOCALS:15 = [사중절정]
ENDIF

SIF GETBIT(CFLAG:ARG:12, 17)
	LOCALS:16 = [자궁절정]
SIF GETBIT(CFLAG:ARG:12, 18)
	LOCALS:17 = [애널퍽커]
SIF GETBIT(CFLAG:ARG:12, 19)
	LOCALS:18 = [미니멈불필요]
;SIF GETBIT(CFLAG:ARG:12, 20)
;	LOCALS:19 = [ＳＭ]
SIF GETBIT(CFLAG:ARG:12, 21)
	LOCALS:20 = [바늘다루기]
SIF GETBIT(CFLAG:ARG:12, 22)
	LOCALS:21 = [견디기 힘든 고통]
SIF GETBIT(CFLAG:ARG:12, 23)
	LOCALS:22 = [바라지 않는 임신]
SIF GETBIT(CFLAG:ARG:12, 24)
	LOCALS:23 = [촉수]
SIF GETBIT(CFLAG:ARG:12, 25)
	LOCALS:24 = [후타나리화]
SIF GETBIT(CFLAG:ARG:12, 26)
	LOCALS:25 = [분유]
SIF GETBIT(CFLAG:ARG:12, 27)
	LOCALS:26 = [몽마화]
SIF GETBIT(CFLAG:ARG:12, 28)
	LOCALS:27 = [성반전]
SIF GETBIT(CFLAG:ARG:12, 29)
	LOCALS:28 = [호접지몽]
SIF GETBIT(CFLAG:ARG:12, 30)
	LOCALS:29 = [자궁삽입]
SIF GETBIT(CFLAG:ARG:12, 31)
	LOCALS:30 = [니플퍽]
SIF GETBIT(CFLAG:ARG:12, 32)
	LOCALS:31 = [요도확장]
SIF GETBIT(CFLAG:ARG:12, 33)
	LOCALS:32 = [요도처녀상실]

FOR LCOUNT, 0, 60
	SIF STRLENS(LOCALS:LCOUNT) == 0
		CONTINUE
	MEMO_STR += STRLENS(LOCALS:LCOUNT)
	IF MEMO_STR > NUM("折り返し文字数")
		PRINTL 
		MEMO_STR = STRLENS(LOCALS:LCOUNT)
	ENDIF
	PRINTFORM %LOCALS:LCOUNT%
NEXT
PRINTL 

RETURN 0

;---------------------------------------------------------------------
;능력표시
;表示順が能力の番号とは異なるため, LOCALでどの能力を表示するかを管理する
;表示しない場合にはNOABL = 1とする
;---------------------------------------------------------------------
@NEW_PRINT_ABL, ARG
#DIM LCOUNT
#DIM NOABL

CALL DRAWLINES, "□ 능력 □", "능력"

SIF CONFIG("항목：능력")
	RETURN 0

;表示順の설정
; 0,　　　순종　 1,　　　욕망　 2,　　　기교　 6,　봉사정신　 7,　　노출벽
; 3,　　Ｃ감각　 4,　　Ｖ감각　 5,　　Ａ감각　14,　　Ｂ감각　16,　　Ｍ감각
;10,　자위중독　11,　정액중독　 8,　마조끼　15,　새드끼　 9,　레즈끼
;30,　　혀놀림　31,　　손가락놀림　32,　　발놀림　33,　　허리놀림　34,　　　마유
;22,　　Ｖ놀림　23,　　Ｖ확장　24,　Ｖ명기도　28,　　목확장　29,　목명기도
;25,　　Ａ놀림　26,　　Ａ확장　27,　Ａ명기도　20,　요도확장

;[남자]なら9,레즈끼のかわりに13,BLを表示

FOR LCOUNT, 0, 29
	VARSET LOCAL
	VARSET LOCALS
	NOABL = 0

	SELECTCASE LCOUNT
	CASE 0
		LOCAL = 0
	CASE 1
		LOCAL = 1
	CASE 2
		LOCAL = 2
	CASE 3
		LOCAL = 6
	CASE 4
		LOCAL = 7
	CASE 5
		LOCAL = 3
		IF TALENT:ARG:음핵
			LOCALS = (음)
		ELSEIF TALENT:ARG:Ｃ둔감
			LOCALS = (둔)
		ELSEIF TALENT:ARG:Ｃ민감
			LOCALS = (민)
		ENDIF
	CASE 6
		LOCAL = 4
		IF TALENT:ARG:음호
			LOCALS = (음)
		ELSEIF TALENT:ARG:Ｖ둔감
			LOCALS = (둔)
		ELSEIF TALENT:ARG:Ｖ민감
			LOCALS = (민)
		ENDIF
		SIF TALENT:ARG:남자
			NOABL = 1
	CASE 7
		LOCAL = 5
		IF TALENT:ARG:애널광
			LOCALS = (음)
		ELSEIF TALENT:ARG:Ａ둔감
			LOCALS = (둔)
		ELSEIF TALENT:ARG:Ａ민감
			LOCALS = (민)
		ENDIF
	CASE 8
		LOCAL = 14
		IF TALENT:ARG:음유
			LOCALS = (음)
		ELSEIF TALENT:ARG:Ｂ둔감
			LOCALS = (둔)
		ELSEIF TALENT:ARG:Ｂ민감
			LOCALS = (민)
		ENDIF
	CASE 9
		LOCAL = 16
		IF TALENT:ARG:음탕한입술
			LOCALS = (음)
		ELSEIF TALENT:ARG:Ｍ둔감
			LOCALS = (둔)
		ELSEIF TALENT:ARG:Ｍ민감
			LOCALS = (민)
		ENDIF
	CASE 10
		LOCAL = 10
	CASE 11
		LOCAL = 11
	CASE 12
		LOCAL = 8
	CASE 13
		LOCAL = 15
	CASE 14
		IF TALENT:ARG:남자
			LOCAL = 13
		ELSE
			LOCAL = 9
		ENDIF
	CASE 15
		LOCAL = 30
	CASE 16
		LOCAL = 31
	CASE 17
		LOCAL = 32
	CASE 18
		LOCAL = 33
	CASE 19
		LOCAL = 34
		SIF TALENT:ARG:남자
			NOABL = 1

	;이하は性器詳細表示がＯＮの時のみ
	CASE 20
		;詳細表示ＯＦＦなら이하は表示しない
		SIF CONFIG("성기상세표시") == 0
			BREAK
		LOCAL = 22
		SIF TALENT:ARG:남자 || EXP:ARG:Ｖ성교경험 == 0
			NOABL = 1
	CASE 21
		LOCAL = 23
		SIF TALENT:ARG:남자
			NOABL = 1
	CASE 22
		LOCAL = 24
		SIF TALENT:ARG:남자 || EXP:ARG:Ｖ성교경험 == 0
			NOABL = 1
	CASE 23
		LOCAL = 28
	CASE 24
		LOCAL = 29
		SIF EXP:ARG:펠라경험 == 0
			NOABL = 1
	CASE 25
		LOCAL = 25
		SIF EXP:ARG:Ａ성교경험 == 0
			NOABL = 1
	CASE 26
		LOCAL = 26
	CASE 27
		LOCAL = 27
		SIF EXP:ARG:Ａ성교경험 == 0
			NOABL = 1
	CASE 28
		LOCAL = 20
		;現時点では페니스のは無し…やっぱあり
		;SIF PENIS(ARG)
		;	NOABL = 1
	ENDSELECT

	SELECTCASE ARG
	CASE MASTER
		SELECTCASE LCOUNT
		CASE 2, 12 TO 29
		CASEELSE
			NOABL = 1
		ENDSELECT
	ENDSELECT

	LOCALS = %ABLNAME:LOCAL%%LOCALS%

	SELECTCASE NOABL
	CASE 0
		SELECTCASE ABL:ARG:LOCAL
		CASE IS >= 100
			PRINTFORM %TEXT_RJ(LOCALS, 10)%:{ABL:ARG:LOCAL} 
		;CASE IS < 0
		;	PRINTFORM %TEXT_RJ(LOCALS, 10)%:-- 　
			;요도のみ詳細表示
			;SIF LOCAL == 20 && EXP:ARG:요도확장경험
			;	PRINTFORM ({CALCF("요도径", ARG)}mm)
		CASEELSE
			PRINTFORM %TEXT_RJ(LOCALS, 10)%:{ABL:ARG:LOCAL, 2}  
		ENDSELECT
	CASEELSE
		SETCOLOR DEF_COLOR("회색")
		PRINTFORM %TEXT_RJ(LOCALS, 10)%:--  
	ENDSELECT
	RESETCOLOR

	;改行
	SIF (LCOUNT+1)%5 == 0
		PRINTL 
NEXT

;最後の改行がされてないなら改行
SIF (LCOUNT+1)%5 == 0
	PRINTL 

RETURN 0


;각인
@NEW_PRINT_MARK, ARG
#DIM LCOUNT
;改行するかの判定に使う
#DIM NEXT_LINE

SELECTCASE ARG
CASE MASTER
	IF FINDCHARA(MARK:주인굴복각인, 1) <= 0 && FINDCHARA(MARK:주인굴복각인, 2) <= 0 && FINDCHARA(MARK:주인굴복각인, 3) <= 0
		SIF MARK:ARG:정액각인 == 0 || TALENT:ARG:남자
			RETURN 0
	ENDIF

	CALL DRAWLINES, "□ 각인 □", "각인"

	SIF CONFIG("항목：각인")
		RETURN 0

	NEXT_LINE = 0

	FOR LCOUNT, 2, CHARANUM
		SIF MARK:LCOUNT:주인굴복각인 == 0
			CONTINUE
		PRINTFORM 굴복각인:LV{MARK:LCOUNT:주인굴복각인} ([{LCOUNT, 2}] %CALLNAME:LCOUNT%)%BL(17 - STRLENS(CALLNAME:LCOUNT))%
		NEXT_LINE += 1
		SIF NEXT_LINE%2 == 0
			PRINTL 
	NEXT
	SIF NEXT_LINE%2
		PRINTL 

CASEELSE
	CALL DRAWLINES, "□ 각인 □", "각인"

	SIF CONFIG("항목：각인")
		RETURN 0

	;表示順の설정
	;0,고통각인　1,쾌락각인　2,굴복각인　3,반발각인
	FOR LCOUNT, 0, 4
		;PRINTFORM %MARKNAME:LCOUNT%:LV{MARK:ARG:LCOUNT} 
		PRINTFORM  %SUBSTRING(MARKNAME:LCOUNT, 0, 4)%LV{MARK:ARG:LCOUNT}
		CALL PRINT_BAR, "황색게이지", MARK:ARG:LCOUNT, 3, 3
		PRINT 　 
	NEXT
	;PRINTL 
ENDSELECT
;정액각인は全員共通
IF MARK:ARG:정액각인 && TALENT:ARG:남자 == 0
	PRINTFORM 정액각인LV{MARK:ARG:정액각인}
	CALL PRINT_BAR, "복숭아색게이지", MARK:ARG:정액각인, 3, 3
ENDIF
PRINTL 
RETURN 0

;---------------------------------------------------------------------
;소질（整頓表示）
;---------------------------------------------------------------------
@NEW_PRINT_TALENT, ARG
#DIM LCOUNT
#DIM LCOUNT2
;表示する内容を整えるのに使う
#DIM MEMO_STR
;소질の種類番号
#DIM TALENT_TYPE
;소질の種類名
#DIMS TALENT_TYPES
;色変更をさせない
#DIM IGNORE_COLOR
;表示する内容
#DIMS PRINT_TALENTS, 10
;キャラメイクの時の固定소질
#DIMS TALENT_FIX
;キャラメイクの時の除外소질
#DIMS TALENT_RMV

IF ARG != MASTER && COND("キャラメイク中") && STRCOUNTS(CSTR:MASTER:10, "固定：", "除外：")
	PRINTFORM □ 소질 □ 
	MEMO_STR = STRLENS("□ 소질 □ ")

	VARSET LOCALS
	SPLIT TEXTS("固定가능な소질"), "/", LOCALS

	IF STRCOUNT(CSTR:MASTER:10, "固定：")
		SETCOLOR DEF_COLOR("초록")
		PRINTFORM 고정：
		MEMO_STR += 6
		FOR LCOUNT, 0, 100
			SIF LOCALS:LCOUNT == ""
				BREAK

			TALENT_FIX = 固定：%LOCALS:LCOUNT%

			SIF CEVENT(TALENT_FIX, MASTER) == 0
				CONTINUE

			PRINTFORM [%LOCALS:LCOUNT%] 
			MEMO_STR += STRLENS(LOCALS:LCOUNT) + 3
		NEXT
		RESETCOLOR
	ENDIF

	IF STRCOUNT(CSTR:MASTER:10, "除外：")
		SETCOLOR DEF_COLOR("파랑")
		PRINTFORM 제외：
		MEMO_STR += 6
		FOR LCOUNT, 0, 100
			SIF LOCALS:LCOUNT == ""
				BREAK

			TALENT_RMV = 除外：%LOCALS:LCOUNT%

			SIF CEVENT(TALENT_RMV, MASTER) == 0
				CONTINUE

			PRINTFORM [%LOCALS:LCOUNT%] 
			MEMO_STR += STRLENS(LOCALS:LCOUNT) + 3
		NEXT
		RESETCOLOR
	ENDIF

	FOR LCOUNT, 0, NUM("折り返し文字数") - MEMO_STR
		PRINTFORM -
	NEXT
	PRINTL 
ELSE
	CALL DRAWLINES, "□ 소질 □", "소질"
ENDIF

SIF CONFIG("항목：소질")
	RETURN 0

VARSET PRINT_TALENTS

FOR LCOUNT, 0, 300
	SIF TALENT:ARG:LCOUNT == 0
		CONTINUE
	;설정されていない소질は弾く
	SIF STRLENS(TALENTNAME:LCOUNT) == 0
		CONTINUE

	;色変更をさせないフラグ。基本は0
	IGNORE_COLOR = 0

	SELECTCASE LCOUNT
	;表示させない소질
	CASE 1, 3 TO 7, 98, 120, 137, 189, 194 TO 196, 224, 225, 226
		CONTINUE
	;성별
	CASE 2
		SIF PENIS(ARG) == 0 || CONFIG("페니스상세설정") == 0
			CONTINUE
		TALENT_TYPE = 0
	CASE 0, 120 TO 122, 134
		TALENT_TYPE = 0
	;성격
	CASE 98
		SIF TALENT:ARG:남자 == 0
			CONTINUE
		TALENT_TYPE = 1
	CASE 10 TO 39, 46, 47, 50, 51, 63, 70, 71, 75, 80 TO 84, 86, 87, 88
		TALENT_TYPE = 1
	;体質
	CASE 138, 139, 141
		SIF TALENT:ARG:남자
			CONTINUE
		TALENT_TYPE = 2
	;유두소질
	CASE 8
		SIF TALENT:ARG:남자 || TALENT_NAME(LCOUNT, TALENT:ARG:LCOUNT, ARG) == ""
			CONTINUE
		TALENT_TYPE = 2
	CASE 9
		SIF PENIS(ARG)
			CONTINUE
		TALENT_TYPE = 2
	CASE 40 TO 45, 48, 52, 56 TO 62, 64, 65, 69, 72, 73, 96 TO 112, 115, 116, 124, 128 TO 133, 135, 138 TO 140, 142, 145 TO 149, 160 TO 167
		TALENT_TYPE = 2
	;技能
	CASE 37, 53 TO 55, 66, 67, 91, 92, 113, 117, 118, 125, 127, 157, 180 TO 193
		TALENT_TYPE = 3
	;아르카나
	CASE 230 TO 259
		TALENT_TYPE = 4
	;특수な소질
	CASE 76, 85, 93, 94, 123, 126, 136, 210 TO 229
		TALENT_TYPE = 5
	;종족特性
	CASE 151
		;大마법사
		SIF TALENT:ARG:마법사 >= 2
			PRINT_TALENTS:4 = 모두
		TALENT_TYPE = 6
	CASE 90, 93, 114, 128, 150 TO 159, 200 TO 203
		TALENT_TYPE = 6
	;성감대
	CASE 49, 74, 77 TO 79, 89, 141, 143, 144
		TALENT_TYPE = 7
	;선호체위（先頭に表示させる）
	CASE 197
		TALENT_TYPE = 7
		PRINT_TALENTS:TALENT_TYPE = [%TALENT_NAME(LCOUNT, TALENT:ARG:LCOUNT, ARG)%]/%PRINT_TALENTS:TALENT_TYPE%
		CONTINUE
	;分類していない소질（これがあるのは望ましくない）
	CASEELSE
		TALENT_TYPE = 8
	ENDSELECT

	;デフォと異なる소질は色を変える
	SIF IGNORE_COLOR == 0 && CSVTALENT_EX(ARG, LCOUNT) != TALENT:ARG:LCOUNT
		PRINT_TALENTS:TALENT_TYPE = %PRINT_TALENTS:TALENT_TYPE%色変え/

	PRINT_TALENTS:TALENT_TYPE = %PRINT_TALENTS:TALENT_TYPE%[%TALENT_NAME(LCOUNT, TALENT:ARG:LCOUNT, ARG)%]/

	;特定소질の直後に표기する소질
	;SELECTCASE LCOUNT
	;빈유or거유
	;CASE 109, 110
	;	;色を変えておく
	;	SIF TALENT_NAME(8, TALENT:ARG:8, ARG) != ""
	;		PRINT_TALENTS:TALENT_TYPE = %PRINT_TALENTS:TALENT_TYPE%色変え/[%TALENT_NAME(8, TALENT:ARG:8, ARG)%]/
	;ENDSELECT
NEXT

FOR LCOUNT2, 0, 10
	SIF PRINT_TALENTS:LCOUNT2 == ""
		CONTINUE

	SELECTCASE LCOUNT2
	CASE 0
		TALENT_TYPES = 성별：
	CASE 1
		TALENT_TYPES = 성격：
	CASE 2
		TALENT_TYPES = 체질：
	CASE 3
		TALENT_TYPES = 기능：
	CASE 4
		;大마법사
		IF TALENT:ARG:마법사 >= 2
			PRINTL 마법：전부
			CONTINUE
		ENDIF

		TALENT_TYPES = 마법：
	CASE 5
		TALENT_TYPES = 특수：
	CASE 6
		TALENT_TYPES = 종족：
	CASE 7
		TALENT_TYPES = 성감대：
	CASEELSE
		TALENT_TYPES = 未分類：
	ENDSELECT

	PRINTFORM %TALENT_TYPES%
	MEMO_STR = STRLENS(TALENT_TYPES)

	SPLIT PRINT_TALENTS:LCOUNT2, "/", LOCALS

	FOR LCOUNT, 0, 300
		SELECTCASE LOCALS:LCOUNT
		CASE ""
			BREAK
		CASE "色変え"
			SETCOLOR DEF_COLOR("황색")
			CONTINUE
		ENDSELECT

		MEMO_STR += STRLENS(LOCALS:LCOUNT)
		IF MEMO_STR > NUM("折り返し文字数")
			PRINTL 
			PRINTFORM %BL(STRLENS(TALENT_TYPES) )%
			MEMO_STR = STRLENS(LOCALS:LCOUNT) + 6
		ENDIF
		PRINTFORM %LOCALS:LCOUNT%
		RESETCOLOR
	NEXT
	PRINTL 
NEXT

RETURN 0

@SHOW_FAMILY, ARG
#DIM LCOUNT
#DIM MOTHER
#DIM FATHER
#DIM FATHER_CHILD
#DIMS MOTHERS
#DIMS FATHERS

MOTHER = COND("모친", ARG)
FATHER = COND("부친", ARG)
FATHER_CHILD = COND("태아의부친", ARG)

VARSET LOCAL
SIF TALENT:ARG:출산경험 || MOTHER > 0 || FATHER > 0 || COND("子持ち：부친", ARG)
	CALL DRAWLINES, "□ 가족구성 □", "가족구성"

SIF CONFIG("항목：가족구성")
	RETURN 0

;親の名前をステータスに表示します
IF MOTHER > 0 || FATHER > 0
	SIF MOTHER > 0
		MOTHERS = \@ MOTHER != MASTER ? [{MOTHER}] # \@%CALLNAME:MOTHER%
	SIF FATHER > 0
		FATHERS = \@ FATHER != MASTER ? [{FATHER}] # \@%CALLNAME:FATHER%

	IF FATHER > 0 && MOTHER > 0
		PRINTFORML 이 아이는 %조사처리(FATHERS,"과")% %MOTHERS%의 {BASE:ARG:몇번째}번째 아이입니다
	ELSEIF FATHER > 0
		PRINTFORML 이 아이는 %FATHERS%의 아이입니다
	ELSEIF MOTHER > 0
		PRINTFORML 이 아이는 %MOTHERS%의 {BASE:ARG:몇번째}번째 아이입니다
	ENDIF
ENDIF

IF TALENT:ARG:출산경험
	PRINTFORM 출산경험：전회에 낳은 것은 
	SELECTCASE FATHER_CHILD
	CASE IS > 0
		SIF FATHER_CHILD != MASTER
			PRINTFORM [{FATHER_CHILD}]
		PRINTFORM %CALLNAME:FATHER_CHILD%의 아이로, 
	CASE -1
		PRINTFORM 매각된 몽마의 아이로, 
	CASE -2
		PRINTFORM 미란다의 창부의 아이로, 
	CASE -3
		PRINTFORM 드래곤의 아이로, 
	CASE -4
		PRINTFORM 부친불명의 아이로, 
	CASE -5
		PRINTFORM 이형의 촉수의 아이로, 
	ENDSELECT
	PRINTFORML 지금까지 {TALENT:ARG:출산경험}명의 아이를 낳았습니다

	;아이の名前をステータスに羅列
	FOR LCOUNT, 1, CHARANUM
		SIF COND("모친", LCOUNT) != ARG
			CONTINUE

		PRINTFORM {BASE:LCOUNT:몇번째, 2}번째 아이：[{LCOUNT, 2}]%TEXT_LJ(CALLNAME:LCOUNT, 16)% 부친：
		LOCAL = COND("부친", LCOUNT)
		SELECTCASE LOCAL
		CASE IS > 0
			SIF LOCAL != MASTER
				PRINTFORM [{LOCAL, 2}]
			PRINTFORM %CALLNAME:LOCAL%
		CASE -1
			PRINTFORM 행방불명
		CASE -2
			PRINTFORM 미란다의 창부
		CASE -3
			PRINTFORM 드래곤
		CASE -4
			PRINTFORM 불명
		CASE -5
			PRINTFORM 촉수
		ENDSELECT
		PRINTL 
	NEXT
ENDIF

IF COND("子持ち：부친", ARG)
	IF TALENT:ARG:출산경험
		PRINTL 
		PRINTFORM 또, 다음 캐릭터의 부친이기도 합니다
	ELSE
		PRINTFORML 다음 캐릭터의 부친입니다
	ENDIF

	;아이の名前をステータスに羅列
	LOCAL = 0
	FOR LCOUNT, 1, CHARANUM
		SIF COND("부친", LCOUNT) != ARG
			CONTINUE

		PRINTFORM [{LCOUNT, 2}]%TEXT_LJ(CALLNAME:LCOUNT, 16)% 
		LOCAL += 1
		SIF LOCAL%3 == 0
			PRINTL 
	NEXT
	SIF LOCAL%3
		PRINTL 
ENDIF


RETURN 0

@PRINT_RELATION, ARG, ARGS
#DIM LCOUNT
;改行するかの判定に使う
#DIM NEXT_LINE

;ARGSが"종족"の時には, 종족に対する상성を出力する
;自分の종족への상성
RELATION:ARG:(NO:ARG) = MAX(RELATION:ARG:(NO:ARG), 120)

VARSET LOCAL

;一人でも상성の良かったり悪かったりする상대がいるかを判別
FOR LCOUNT, 1, 100
	SELECTCASE ARGS
	CASE "종족"
		SIF LCOUNT == NO:ARG && COND("유니크", ARG)
			CONTINUE

		SELECTCASE RELATION:ARG:LCOUNT
		CASE 0, 81 TO 119
			CONTINUE
		ENDSELECT
	CASEELSE
		SIF LCOUNT == ARG
			CONTINUE
		SIF LCOUNT >= CHARANUM
			BREAK

		SELECTCASE RELATION:ARG:(NO:LCOUNT)
		CASE 0, 81 TO 119
			CONTINUE
		ENDSELECT
	ENDSELECT

	LOCAL = 1
	BREAK
NEXT

SIF LOCAL == 0
	RETURN 0

CALL DRAWLINES, "□ 상성 □", "상성"

SIF CONFIG("항목：상성")
	RETURN 0

NEXT_LINE = 0

FOR LCOUNT, 1, 100
	SELECTCASE ARGS
	CASE "종족"
		SIF LCOUNT == NO:ARG && COND("유니크", ARG)
			CONTINUE

		LOCAL = LCOUNT
	CASEELSE
		SIF LCOUNT == ARG
			CONTINUE
		SIF LCOUNT >= CHARANUM
			BREAK

		LOCAL = NO:LCOUNT
	ENDSELECT

	SELECTCASE RELATION:ARG:LOCAL
	CASE 0, 81 TO 119
		CONTINUE
	ENDSELECT

	SELECTCASE ARGS
	CASE "종족"
		PRINTFORM %TEXT_LJ(CSVNAME(LCOUNT, 0), 17)%:
	CASEELSE
		PRINTFORM [{LCOUNT,2}]%TEXT_LJ(CALLNAME:LCOUNT, 17)%:
	ENDSELECT

	SELECTCASE RELATION:ARG:LOCAL
	CASE IS  >= 200
		PRINT ☆ 
	CASE IS >= 150
		PRINT ◎ 
	CASE IS >= 120
		PRINT ○ 
	CASE IS <= 20
		PRINT 흉 
	CASE IS <= 50
		PRINT × 
	CASE IS <= 80
		PRINT △ 
	ENDSELECT

	NEXT_LINE += 1

	SIF NEXT_LINE%3 == 0
		PRINTL 
NEXT
;最後のループで改行してなかったら改行
SIF NEXT_LINE%3
	PRINTL 

RETURN 0

@NEW_PRINT_PUBICHAIR, ARG
SIF CONFIG("음모と겨털") == 0 || (TALENT:ARG:남자 && COND("오토코노코", ARG) == 0)
	RETURN 0
IF CONFIG("겨털")
	LOCALS = □ 음모と%TEXTS("겨드랑이")%毛の状態 □
ELSE
	LOCALS = □ 음모の状態 □
ENDIF
CALL DRAWLINES, LOCALS, "음모"

SIF CONFIG("항목：음모")
	RETURN 0

IF COND("음모", ARG) == 0
	PRINT  ----------
ELSE
	PRINTFORM \@ CONFIG("겨털") ? 음모： # \@%CONDS("음모", ARG)%
	IF CONDS("음모", ARG) == "お손入れ済" && CEVENTS("음모の명칭", ARG) != ""
		IF CEVENTS("음모の形", ARG) == "HEARTMARK"
			PRINT (
			CALL HEARTMARK
			PRINTFORM  %CEVENTS("음모の명칭", ARG)%)
		ELSE
			PRINTFORM (\@ STRLENS(CEVENTS("음모の形", ARG) ) ? %CEVENTS("음모の形", ARG)%%BL(1)% #  \@%CEVENTS("음모の명칭", ARG)%)
		ENDIF
	ENDIF
ENDIF
SELECTCASE COND("身嗜み：음모", ARG)
CASE 3
	PRINTFORM  ※맨질맨질하게 깎도록 \@ ARG == MASTER ? 주의 # 부탁 중 \@
CASE 5
	PRINTFORM  ※모양을 예쁘게 유지하도록 \@ ARG == MASTER ? 주의 # 부탁 중 \@
CASE 7
	PRINTFORM  ※깎지 않도록 \@ ARG == MASTER ? 주의 # 부탁 중 \@
ENDSELECT
PRINTL 
SIF CONFIG("겨털") == 0
	RETURN 0

PRINTFORM %TEXTS("겨드랑이")%털：%CONDS("겨털", ARG)%
SELECTCASE COND("身嗜み：겨털", ARG)
CASE 3
	PRINTFORM  ※맨질맨질하게 깎도록 \@ ARG == MASTER ? 주의 # 부탁 중 \@
CASE 7
	PRINTFORM  ※깎지 않도록 \@ ARG == MASTER ? 주의 # 부탁 중 \@
ENDSELECT
PRINTL 

@PRINT_EQUIPPING_ACCESSORY, ARG
SIF ARG != MASTER || FLAG:399 == 0
	RETURN 0

CALL DRAWLINES, "□ 악세사리 □", "악세사리"

SIF CONFIG("항목：악세사리")
	RETURN 0

CALL PRINT_ACCESSORY, FLAG:399

RETURN 0

